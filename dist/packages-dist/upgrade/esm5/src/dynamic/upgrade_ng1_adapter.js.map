{"version":3,"sources":["../../../../../../packages/upgrade/src/dynamic/upgrade_ng1_adapter.ts"],"names":[],"mappings":"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","file":"upgrade_ng1_adapter.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, DoCheck, ElementRef, EventEmitter, Inject, Injector, OnChanges, OnInit, SimpleChange, SimpleChanges, Type} from '@angular/core';\n\nimport * as angular from '../common/angular1';\nimport {$SCOPE} from '../common/constants';\nimport {IBindingDestination, IControllerInstance, UpgradeHelper} from '../common/upgrade_helper';\nimport {isFunction, strictEquals} from '../common/util';\n\n\nconst /** @type {?} */ CAMEL_CASE = /([A-Z])/g;\nconst /** @type {?} */ INITIAL_VALUE = {\n  __UNINITIALIZED__: true\n};\nconst /** @type {?} */ NOT_SUPPORTED: any = 'NOT_SUPPORTED';\nexport class UpgradeNg1ComponentAdapterBuilder {\n  type: Type<any>;\n  inputs: string[] = [];\n  inputsRename: string[] = [];\n  outputs: string[] = [];\n  outputsRename: string[] = [];\n  propertyOutputs: string[] = [];\n  checkProperties: string[] = [];\n  propertyMap: {[name: string]: string} = {};\n  directive: angular.IDirective|null = null;\n  template: string;\n/**\n * @param {?} name\n */\nconstructor(public name: string) {\n    const /** @type {?} */ selector =\n        name.replace(CAMEL_CASE, (all: string, next: string) => '-' + next.toLowerCase());\n    const /** @type {?} */ self = this;\nclass MyClass {\n      directive: angular.IDirective;\n/**\n * @param {?} scope\n * @param {?} injector\n * @param {?} elementRef\n */\nconstructor(\n           scope: angular.IScope, injector: Injector, elementRef: ElementRef) {\n        const /** @type {?} */ helper = new UpgradeHelper(injector, name, elementRef, this.directive);\n        return /** @type {?} */(( new UpgradeNg1ComponentAdapter(\n            helper, scope, self.template, self.inputs, self.outputs, self.propertyOutputs,\n            self.checkProperties, self.propertyMap) as any));\n      }\n/**\n * @return {?}\n */\nngOnInit() { /* needs to be here for ng2 to properly detect it */\n      }\n/**\n * @return {?}\n */\nngOnChanges() { /* needs to be here for ng2 to properly detect it */\n      }\n/**\n * @return {?}\n */\nngDoCheck() { /* needs to be here for ng2 to properly detect it */\n      }\n/**\n * @return {?}\n */\nngOnDestroy() { /* needs to be here for ng2 to properly detect it */\n      }\n    static decorators: {type: Function, args?: any[]}[] = [\n{ type: Directive, args: [{selector: selector, inputs: this.inputsRename, outputs: this.outputsRename}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [$SCOPE, ] }, ]},\n{type: Injector, },\n{type: ElementRef, },\n];\n}\n\nfunction MyClass_tsickle_Closure_declarations() {\n/** @type {?} */\nMyClass.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMyClass.ctorParameters;\n/** @type {?} */\nMyClass.prototype.directive;\n}\n;\n    this.type = MyClass;\n  }\n/**\n * @return {?}\n */\nextractBindings() {\n    const /** @type {?} */ btcIsObject = typeof /** @type {?} */(( this.directive)).bindToController === 'object';\n    if (btcIsObject && Object.keys( /** @type {?} */((this.directive)).scope).length) {\n      throw new Error(\n          `Binding definitions on scope and controller at the same time are not supported.`);\n    }\n\n    const /** @type {?} */ context = (btcIsObject) ? /** @type {?} */(( this.directive)).bindToController : /** @type {?} */(( this.directive)).scope;\n\n    if (typeof context == 'object') {\n      Object.keys(context).forEach(propName => {\n        const /** @type {?} */ definition = context[propName];\n        const /** @type {?} */ bindingType = definition.charAt(0);\n        const /** @type {?} */ bindingOptions = definition.charAt(1);\n        const /** @type {?} */ attrName = definition.substring(bindingOptions === '?' ? 2 : 1) || propName;\n\n        // QUESTION: What about `=*`? Ignore? Throw? Support?\n\n        const /** @type {?} */ inputName = `input_${attrName}`;\n        const /** @type {?} */ inputNameRename = `${inputName}: ${attrName}`;\n        const /** @type {?} */ outputName = `output_${attrName}`;\n        const /** @type {?} */ outputNameRename = `${outputName}: ${attrName}`;\n        const /** @type {?} */ outputNameRenameChange = `${outputNameRename}Change`;\n\n        switch (bindingType) {\n          case '@':\n          case '<':\n            this.inputs.push(inputName);\n            this.inputsRename.push(inputNameRename);\n            this.propertyMap[inputName] = propName;\n            break;\n          case '=':\n            this.inputs.push(inputName);\n            this.inputsRename.push(inputNameRename);\n            this.propertyMap[inputName] = propName;\n\n            this.outputs.push(outputName);\n            this.outputsRename.push(outputNameRenameChange);\n            this.propertyMap[outputName] = propName;\n\n            this.checkProperties.push(propName);\n            this.propertyOutputs.push(outputName);\n            break;\n          case '&':\n            this.outputs.push(outputName);\n            this.outputsRename.push(outputNameRename);\n            this.propertyMap[outputName] = propName;\n            break;\n          default:\n            let /** @type {?} */ json = JSON.stringify(context);\n            throw new Error(\n                `Unexpected mapping '${bindingType}' in '${json}' in '${this.name}' directive.`);\n        }\n      });\n    }\n  }\n/**\n * Upgrade ng1 components into Angular.\n * @param {?} exportedComponents\n * @param {?} $injector\n * @return {?}\n */\nstatic resolve(\n      exportedComponents: {[name: string]: UpgradeNg1ComponentAdapterBuilder},\n      $injector: angular.IInjectorService): Promise<string[]> {\n    const /** @type {?} */ promises = Object.keys(exportedComponents).map(name => {\n      const /** @type {?} */ exportedComponent = exportedComponents[name];\n      exportedComponent.directive = UpgradeHelper.getDirective($injector, name);\n      exportedComponent.extractBindings();\n\n      return Promise\n          .resolve(UpgradeHelper.getTemplate($injector, exportedComponent.directive, true))\n          .then(template => exportedComponent.template = template);\n    });\n\n    return Promise.all(promises);\n  }\n}\n\nfunction UpgradeNg1ComponentAdapterBuilder_tsickle_Closure_declarations() {\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.type;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.inputs;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.inputsRename;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.outputs;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.outputsRename;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.propertyOutputs;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.checkProperties;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.propertyMap;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.directive;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.template;\n/** @type {?} */\nUpgradeNg1ComponentAdapterBuilder.prototype.name;\n}\n\nclass UpgradeNg1ComponentAdapter implements OnInit, OnChanges, DoCheck {\nprivate controllerInstance: IControllerInstance|null = null;\n  destinationObj: IBindingDestination|null = null;\n  checkLastValues: any[] = [];\nprivate directive: angular.IDirective;\n  element: Element;\n  $element: any = null;\n  componentScope: angular.IScope;\n/**\n * @param {?} helper\n * @param {?} scope\n * @param {?} template\n * @param {?} inputs\n * @param {?} outputs\n * @param {?} propOuts\n * @param {?} checkProperties\n * @param {?} propertyMap\n */\nconstructor(\nprivate helper: UpgradeHelper, scope: angular.IScope,\nprivate template: string,\nprivate inputs: string[],\nprivate outputs: string[],\nprivate propOuts: string[],\nprivate checkProperties: string[],\nprivate propertyMap: {[key: string]: string}) {\n    this.directive = helper.directive;\n    this.element = helper.element;\n    this.$element = helper.$element;\n    this.componentScope = scope.$new(!!this.directive.scope);\n\n    const /** @type {?} */ controllerType = this.directive.controller;\n\n    if (this.directive.bindToController && controllerType) {\n      this.controllerInstance = this.helper.buildController(controllerType, this.componentScope);\n      this.destinationObj = this.controllerInstance;\n    } else {\n      this.destinationObj = this.componentScope;\n    }\n\n    for (let /** @type {?} */ i = 0; i < inputs.length; i++) {\n      ( /** @type {?} */((this as any)))[inputs[i]] = null;\n    }\n    for (let /** @type {?} */ j = 0; j < outputs.length; j++) {\n      const /** @type {?} */ emitter = ( /** @type {?} */((this as any)))[outputs[j]] = new EventEmitter<any>();\n      this.setComponentProperty(\n          outputs[j], (emitter => (value: any) => emitter.emit(value))(emitter));\n    }\n    for (let /** @type {?} */ k = 0; k < propOuts.length; k++) {\n      this.checkLastValues.push(INITIAL_VALUE);\n    }\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    // Collect contents, insert and compile template\n    const /** @type {?} */ attachChildNodes: angular.ILinkFn|undefined = this.helper.prepareTransclusion();\n    const /** @type {?} */ linkFn = this.helper.compileTemplate(this.template);\n\n    // Instantiate controller (if not already done so)\n    const /** @type {?} */ controllerType = this.directive.controller;\n    const /** @type {?} */ bindToController = this.directive.bindToController;\n    if (controllerType && !bindToController) {\n      this.controllerInstance = this.helper.buildController(controllerType, this.componentScope);\n    }\n\n    // Require other controllers\n    const /** @type {?} */ requiredControllers =\n        this.helper.resolveAndBindRequiredControllers(this.controllerInstance);\n\n    // Hook: $onInit\n    if (this.controllerInstance && isFunction(this.controllerInstance.$onInit)) {\n      this.controllerInstance.$onInit();\n    }\n\n    // Linking\n    const /** @type {?} */ link = this.directive.link;\n    const /** @type {?} */ preLink = (typeof link == 'object') && ( /** @type {?} */((link as angular.IDirectivePrePost))).pre;\n    const /** @type {?} */ postLink = (typeof link == 'object') ? ( /** @type {?} */((link as angular.IDirectivePrePost))).post : link;\n    const /** @type {?} */ attrs: angular.IAttributes = NOT_SUPPORTED;\n    const /** @type {?} */ transcludeFn: angular.ITranscludeFunction = NOT_SUPPORTED;\n    if (preLink) {\n      preLink(this.componentScope, this.$element, attrs, requiredControllers, transcludeFn);\n    }\n\n    linkFn(this.componentScope, /** @type {?} */(( null)), {parentBoundTranscludeFn: attachChildNodes});\n\n    if (postLink) {\n      postLink(this.componentScope, this.$element, attrs, requiredControllers, transcludeFn);\n    }\n\n    // Hook: $postLink\n    if (this.controllerInstance && isFunction(this.controllerInstance.$postLink)) {\n      this.controllerInstance.$postLink();\n    }\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    const /** @type {?} */ ng1Changes: any = {};\n    Object.keys(changes).forEach(name => {\n      const /** @type {?} */ change: SimpleChange = changes[name];\n      this.setComponentProperty(name, change.currentValue);\n      ng1Changes[this.propertyMap[name]] = change;\n    });\n\n    if (isFunction( /** @type {?} */((this.destinationObj)).$onChanges)) { /** @type {?} */(( /** @type {?} */((\n      this.destinationObj)).$onChanges))(ng1Changes);\n    }\n  }\n/**\n * @return {?}\n */\nngDoCheck() {\n    const /** @type {?} */ destinationObj = this.destinationObj;\n    const /** @type {?} */ lastValues = this.checkLastValues;\n    const /** @type {?} */ checkProperties = this.checkProperties;\n    const /** @type {?} */ propOuts = this.propOuts;\n    checkProperties.forEach((propName, i) => {\n      const /** @type {?} */ value = /** @type {?} */(( destinationObj))[propName];\n      const /** @type {?} */ last = lastValues[i];\n      if (!strictEquals(last, value)) {\n        const /** @type {?} */ eventEmitter: EventEmitter<any> = ( /** @type {?} */((this as any)))[propOuts[i]];\n        eventEmitter.emit(lastValues[i] = value);\n      }\n    });\n\n    if (this.controllerInstance && isFunction(this.controllerInstance.$doCheck)) {\n      this.controllerInstance.$doCheck();\n    }\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    if (this.controllerInstance && isFunction(this.controllerInstance.$onDestroy)) {\n      this.controllerInstance.$onDestroy();\n    }\n  }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetComponentProperty(name: string, value: any) { /** @type {?} */((\n    this.destinationObj))[this.propertyMap[name]] = value;\n  }\n}\n\nfunction UpgradeNg1ComponentAdapter_tsickle_Closure_declarations() {\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.controllerInstance;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.destinationObj;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.checkLastValues;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.directive;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.element;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.$element;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.componentScope;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.helper;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.template;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.inputs;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.outputs;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.propOuts;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.checkProperties;\n/** @type {?} */\nUpgradeNg1ComponentAdapter.prototype.propertyMap;\n}\n\n"]}