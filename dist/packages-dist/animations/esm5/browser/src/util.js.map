{"version":3,"sources":["../../../../../../packages/animations/browser/src/util.ts"],"names":[],"mappings":"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","file":"util.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {AnimateTimings, AnimationMetadata, AnimationOptions, sequence, ÉµStyleData} from '@angular/animations';\n\nexport const /** @type {?} */ ONE_SECOND = 1000;\n\nexport const /** @type {?} */ SUBSTITUTION_EXPR_START = '{{';\nexport const /** @type {?} */ SUBSTITUTION_EXPR_END = '}}';\nexport const /** @type {?} */ ENTER_CLASSNAME = 'ng-enter';\nexport const /** @type {?} */ LEAVE_CLASSNAME = 'ng-leave';\nexport const /** @type {?} */ ENTER_SELECTOR = '.ng-enter';\nexport const /** @type {?} */ LEAVE_SELECTOR = '.ng-leave';\nexport const /** @type {?} */ NG_TRIGGER_CLASSNAME = 'ng-trigger';\nexport const /** @type {?} */ NG_TRIGGER_SELECTOR = '.ng-trigger';\nexport const /** @type {?} */ NG_ANIMATING_CLASSNAME = 'ng-animating';\nexport const /** @type {?} */ NG_ANIMATING_SELECTOR = '.ng-animating';\n/**\n * @param {?} value\n * @return {?}\n */\nexport function resolveTimingValue(value: string | number) {\n  if (typeof value == 'number') return value;\n\n  const /** @type {?} */ matches = ( /** @type {?} */((value as string))).match(/^(-?[\\.\\d]+)(m?s)/);\n  if (!matches || matches.length < 2) return 0;\n\n  return _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n}\n/**\n * @param {?} value\n * @param {?} unit\n * @return {?}\n */\nfunction _convertTimeValueToMS(value: number, unit: string): number {\n  switch (unit) {\n    case 's':\n      return value * ONE_SECOND;\n    default:  // ms or something else\n      return value;\n  }\n}\n/**\n * @param {?} timings\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nexport function resolveTiming(\n    timings: string | number | AnimateTimings, errors: any[], allowNegativeValues?: boolean) {\n  return timings.hasOwnProperty('duration') ? /** @type {?} */((\n      <AnimateTimings>timings)) :\n      parseTimeExpression( /** @type {?} */((<string|number>timings)), errors, allowNegativeValues);\n}\n/**\n * @param {?} exp\n * @param {?} errors\n * @param {?=} allowNegativeValues\n * @return {?}\n */\nfunction parseTimeExpression(\n    exp: string | number, errors: string[], allowNegativeValues?: boolean): AnimateTimings {\n  const /** @type {?} */ regex = /^(-?[\\.\\d]+)(m?s)(?:\\s+(-?[\\.\\d]+)(m?s))?(?:\\s+([-a-z]+(?:\\(.+?\\))?))?$/i;\n  let /** @type {?} */ duration: number;\n  let /** @type {?} */ delay: number = 0;\n  let /** @type {?} */ easing: string = '';\n  if (typeof exp === 'string') {\n    const /** @type {?} */ matches = exp.match(regex);\n    if (matches === null) {\n      errors.push(`The provided timing value \"${exp}\" is invalid.`);\n      return {duration: 0, delay: 0, easing: ''};\n    }\n\n    duration = _convertTimeValueToMS(parseFloat(matches[1]), matches[2]);\n\n    const /** @type {?} */ delayMatch = matches[3];\n    if (delayMatch != null) {\n      delay = _convertTimeValueToMS(Math.floor(parseFloat(delayMatch)), matches[4]);\n    }\n\n    const /** @type {?} */ easingVal = matches[5];\n    if (easingVal) {\n      easing = easingVal;\n    }\n  } else {\n    duration = /** @type {?} */(( <number>exp));\n  }\n\n  if (!allowNegativeValues) {\n    let /** @type {?} */ containsErrors = false;\n    let /** @type {?} */ startIndex = errors.length;\n    if (duration < 0) {\n      errors.push(`Duration values below 0 are not allowed for this animation step.`);\n      containsErrors = true;\n    }\n    if (delay < 0) {\n      errors.push(`Delay values below 0 are not allowed for this animation step.`);\n      containsErrors = true;\n    }\n    if (containsErrors) {\n      errors.splice(startIndex, 0, `The provided timing value \"${exp}\" is invalid.`);\n    }\n  }\n\n  return {duration, delay, easing};\n}\n/**\n * @param {?} obj\n * @param {?=} destination\n * @return {?}\n */\nexport function copyObj(\n    obj: {[key: string]: any}, destination: {[key: string]: any} = {}): {[key: string]: any} {\n  Object.keys(obj).forEach(prop => { destination[prop] = obj[prop]; });\n  return destination;\n}\n/**\n * @param {?} styles\n * @return {?}\n */\nexport function normalizeStyles(styles: ÉµStyleData | ÉµStyleData[]): ÉµStyleData {\n  const /** @type {?} */ normalizedStyles: ÉµStyleData = {};\n  if (Array.isArray(styles)) {\n    styles.forEach(data => copyStyles(data, false, normalizedStyles));\n  } else {\n    copyStyles(styles, false, normalizedStyles);\n  }\n  return normalizedStyles;\n}\n/**\n * @param {?} styles\n * @param {?} readPrototype\n * @param {?=} destination\n * @return {?}\n */\nexport function copyStyles(\n    styles: ÉµStyleData, readPrototype: boolean, destination: ÉµStyleData = {}): ÉµStyleData {\n  if (readPrototype) {\n    // we make use of a for-in loop so that the\n    // prototypically inherited properties are\n    // revealed from the backFill map\n    for (let /** @type {?} */ prop in styles) {\n      destination[prop] = styles[prop];\n    }\n  } else {\n    copyObj(styles, destination);\n  }\n  return destination;\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nexport function setStyles(element: any, styles: ÉµStyleData) {\n  if (element['style']) {\n    Object.keys(styles).forEach(prop => {\n      const /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n      element.style[camelProp] = styles[prop];\n    });\n  }\n}\n/**\n * @param {?} element\n * @param {?} styles\n * @return {?}\n */\nexport function eraseStyles(element: any, styles: ÉµStyleData) {\n  if (element['style']) {\n    Object.keys(styles).forEach(prop => {\n      const /** @type {?} */ camelProp = dashCaseToCamelCase(prop);\n      element.style[camelProp] = '';\n    });\n  }\n}\n/**\n * @param {?} steps\n * @return {?}\n */\nexport function normalizeAnimationEntry(steps: AnimationMetadata | AnimationMetadata[]):\n    AnimationMetadata {\n  if (Array.isArray(steps)) {\n    if (steps.length == 1) return steps[0];\n    return sequence(steps);\n  }\n  return /** @type {?} */(( steps as AnimationMetadata));\n}\n/**\n * @param {?} value\n * @param {?} options\n * @param {?} errors\n * @return {?}\n */\nexport function validateStyleParams(\n    value: string | number, options: AnimationOptions, errors: any[]) {\n  const /** @type {?} */ params = options.params || {};\n  const /** @type {?} */ matches = extractStyleParams(value);\n  if (matches.length) {\n    matches.forEach(varName => {\n      if (!params.hasOwnProperty(varName)) {\n        errors.push(\n            `Unable to resolve the local animation param ${varName} in the given list of values`);\n      }\n    });\n  }\n}\n\nconst /** @type {?} */ PARAM_REGEX =\n    new RegExp(`${SUBSTITUTION_EXPR_START}\\\\s*(.+?)\\\\s*${SUBSTITUTION_EXPR_END}`, 'g');\n/**\n * @param {?} value\n * @return {?}\n */\nexport function extractStyleParams(value: string | number): string[] {\n  let /** @type {?} */ params: string[] = [];\n  if (typeof value === 'string') {\n    const /** @type {?} */ val = value.toString();\n\n    let /** @type {?} */ match: any;\n    while (match = PARAM_REGEX.exec(val)) {\n      params.push( /** @type {?} */((match[1] as string)));\n    }\n    PARAM_REGEX.lastIndex = 0;\n  }\n  return params;\n}\n/**\n * @param {?} value\n * @param {?} params\n * @param {?} errors\n * @return {?}\n */\nexport function interpolateParams(\n    value: string | number, params: {[name: string]: any}, errors: any[]): string|number {\n  const /** @type {?} */ original = value.toString();\n  const /** @type {?} */ str = original.replace(PARAM_REGEX, (_, varName) => {\n    let /** @type {?} */ localVal = params[varName];\n    // this means that the value was never overidden by the data passed in by the user\n    if (!params.hasOwnProperty(varName)) {\n      errors.push(`Please provide a value for the animation param ${varName}`);\n      localVal = '';\n    }\n    return localVal.toString();\n  });\n\n  // we do this to assert that numeric values stay as they are\n  return str == original ? value : str;\n}\n/**\n * @param {?} iterator\n * @return {?}\n */\nexport function iteratorToArray(iterator: any): any[] {\n  const /** @type {?} */ arr: any[] = [];\n  let /** @type {?} */ item = iterator.next();\n  while (!item.done) {\n    arr.push(item.value);\n    item = iterator.next();\n  }\n  return arr;\n}\n/**\n * @param {?} source\n * @param {?} destination\n * @return {?}\n */\nexport function mergeAnimationOptions(\n    source: AnimationOptions, destination: AnimationOptions): AnimationOptions {\n  if (source.params) {\n    const /** @type {?} */ p0 = source.params;\n    if (!destination.params) {\n      destination.params = {};\n    }\n    const /** @type {?} */ p1 = destination.params;\n    Object.keys(p0).forEach(param => {\n      if (!p1.hasOwnProperty(param)) {\n        p1[param] = p0[param];\n      }\n    });\n  }\n  return destination;\n}\n\nconst /** @type {?} */ DASH_CASE_REGEXP = /-+([a-z0-9])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nexport function dashCaseToCamelCase(input: string): string {\n  return input.replace(DASH_CASE_REGEXP, (...m: any[]) => m[1].toUpperCase());\n}\n/**\n * @param {?} duration\n * @param {?} delay\n * @return {?}\n */\nexport function allowPreviousPlayerStylesMerge(duration: number, delay: number) {\n  return duration === 0 || delay === 0;\n}\n"]}