{"version":3,"sources":["../../../../../packages/animations/src/players/animation_group_player.ts"],"names":[],"mappings":"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","file":"animation_group_player.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {scheduleMicroTask} from '../util';\nimport {AnimationPlayer} from './animation_player';\nexport class AnimationGroupPlayer implements AnimationPlayer {\nprivate _onDoneFns: Function[] = [];\nprivate _onStartFns: Function[] = [];\nprivate _finished = false;\nprivate _started = false;\nprivate _destroyed = false;\nprivate _onDestroyFns: Function[] = [];\npublic parentPlayer: AnimationPlayer|null = null;\npublic totalTime: number = 0;\n/**\n * @param {?} _players\n */\nconstructor(private _players: AnimationPlayer[]) {\n    let /** @type {?} */ doneCount = 0;\n    let /** @type {?} */ destroyCount = 0;\n    let /** @type {?} */ startCount = 0;\n    const /** @type {?} */ total = this._players.length;\n\n    if (total == 0) {\n      scheduleMicroTask(() => this._onFinish());\n    } else {\n      this._players.forEach(player => {\n        player.parentPlayer = this;\n        player.onDone(() => {\n          if (++doneCount >= total) {\n            this._onFinish();\n          }\n        });\n        player.onDestroy(() => {\n          if (++destroyCount >= total) {\n            this._onDestroy();\n          }\n        });\n        player.onStart(() => {\n          if (++startCount >= total) {\n            this._onStart();\n          }\n        });\n      });\n    }\n\n    this.totalTime = this._players.reduce((time, player) => Math.max(time, player.totalTime), 0);\n  }\n/**\n * @return {?}\n */\n\nprivate _onFinish() {\n    if (!this._finished) {\n      this._finished = true;\n      this._onDoneFns.forEach(fn => fn());\n      this._onDoneFns = [];\n    }\n  }\n/**\n * @return {?}\n */\ninit(): void { this._players.forEach(player => player.init()); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonStart(fn: () => void): void { this._onStartFns.push(fn); }\n/**\n * @return {?}\n */\n\nprivate _onStart() {\n    if (!this.hasStarted()) {\n      this._onStartFns.forEach(fn => fn());\n      this._onStartFns = [];\n      this._started = true;\n    }\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDone(fn: () => void): void { this._onDoneFns.push(fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDestroy(fn: () => void): void { this._onDestroyFns.push(fn); }\n/**\n * @return {?}\n */\nhasStarted() { return this._started; }\n/**\n * @return {?}\n */\nplay() {\n    if (!this.parentPlayer) {\n      this.init();\n    }\n    this._onStart();\n    this._players.forEach(player => player.play());\n  }\n/**\n * @return {?}\n */\npause(): void { this._players.forEach(player => player.pause()); }\n/**\n * @return {?}\n */\nrestart(): void { this._players.forEach(player => player.restart()); }\n/**\n * @return {?}\n */\nfinish(): void {\n    this._onFinish();\n    this._players.forEach(player => player.finish());\n  }\n/**\n * @return {?}\n */\ndestroy(): void { this._onDestroy(); }\n/**\n * @return {?}\n */\n\nprivate _onDestroy() {\n    if (!this._destroyed) {\n      this._destroyed = true;\n      this._onFinish();\n      this._players.forEach(player => player.destroy());\n      this._onDestroyFns.forEach(fn => fn());\n      this._onDestroyFns = [];\n    }\n  }\n/**\n * @return {?}\n */\nreset(): void {\n    this._players.forEach(player => player.reset());\n    this._destroyed = false;\n    this._finished = false;\n    this._started = false;\n  }\n/**\n * @param {?} p\n * @return {?}\n */\nsetPosition(p: number): void {\n    const /** @type {?} */ timeAtPosition = p * this.totalTime;\n    this._players.forEach(player => {\n      const /** @type {?} */ position = player.totalTime ? Math.min(1, timeAtPosition / player.totalTime) : 1;\n      player.setPosition(position);\n    });\n  }\n/**\n * @return {?}\n */\ngetPosition(): number {\n    let /** @type {?} */ min = 0;\n    this._players.forEach(player => {\n      const /** @type {?} */ p = player.getPosition();\n      min = Math.min(p, min);\n    });\n    return min;\n  }\n/**\n * @return {?}\n */\nget players(): AnimationPlayer[] { return this._players; }\n/**\n * @return {?}\n */\nbeforeDestroy(): void {\n    this.players.forEach(player => {\n      if (player.beforeDestroy) {\n        player.beforeDestroy();\n      }\n    });\n  }\n}\n\nfunction AnimationGroupPlayer_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationGroupPlayer.prototype._onDoneFns;\n/** @type {?} */\nAnimationGroupPlayer.prototype._onStartFns;\n/** @type {?} */\nAnimationGroupPlayer.prototype._finished;\n/** @type {?} */\nAnimationGroupPlayer.prototype._started;\n/** @type {?} */\nAnimationGroupPlayer.prototype._destroyed;\n/** @type {?} */\nAnimationGroupPlayer.prototype._onDestroyFns;\n/** @type {?} */\nAnimationGroupPlayer.prototype.parentPlayer;\n/** @type {?} */\nAnimationGroupPlayer.prototype.totalTime;\n/** @type {?} */\nAnimationGroupPlayer.prototype._players;\n}\n\n"]}