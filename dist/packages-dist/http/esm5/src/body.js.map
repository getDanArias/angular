{"version":3,"sources":["../../../../../packages/http/src/body.ts"],"names":[],"mappings":"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","file":"body.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {stringToArrayBuffer} from './http_utils';\nimport {URLSearchParams} from './url_search_params';\n/**\n * HTTP request body used by both {\\@link Request} and {\\@link Response}\n * https://fetch.spec.whatwg.org/#body\n * @abstract\n */\nexport abstract class Body {\n/**\n * \\@internal\n */\nprotected _body: any;\n/**\n * Attempts to return body as parsed `JSON` object, or raises an exception.\n * @return {?}\n */\njson(): any {\n    if (typeof this._body === 'string') {\n      return JSON.parse( /** @type {?} */((<string>this._body)));\n    }\n\n    if (this._body instanceof ArrayBuffer) {\n      return JSON.parse(this.text());\n    }\n\n    return this._body;\n  }\n/**\n * Returns the body as a string, presuming `toString()` can be called on the response body.\n * \n * When decoding an `ArrayBuffer`, the optional `encodingHint` parameter determines how the\n * bytes in the buffer will be interpreted. Valid values are:\n * \n * - `legacy` - incorrectly interpret the bytes as UTF-16 (technically, UCS-2). Only characters\n *   in the Basic Multilingual Plane are supported, surrogate pairs are not handled correctly.\n *   In addition, the endianness of the 16-bit octet pairs in the `ArrayBuffer` is not taken\n *   into consideration. This is the default behavior to avoid breaking apps, but should be\n *   considered deprecated.\n * \n * - `iso-8859` - interpret the bytes as ISO-8859 (which can be used for ASCII encoded text).\n * @param {?=} encodingHint\n * @return {?}\n */\ntext(encodingHint: 'legacy'|'iso-8859' = 'legacy'): string {\n    if (this._body instanceof URLSearchParams) {\n      return this._body.toString();\n    }\n\n    if (this._body instanceof ArrayBuffer) {\n      switch (encodingHint) {\n        case 'legacy':\n          return String.fromCharCode.apply(null, new Uint16Array( /** @type {?} */((this._body as ArrayBuffer))));\n        case 'iso-8859':\n          return String.fromCharCode.apply(null, new Uint8Array( /** @type {?} */((this._body as ArrayBuffer))));\n        default:\n          throw new Error(`Invalid value for encodingHint: ${encodingHint}`);\n      }\n    }\n\n    if (this._body == null) {\n      return '';\n    }\n\n    if (typeof this._body === 'object') {\n      return JSON.stringify(this._body, null, 2);\n    }\n\n    return this._body.toString();\n  }\n/**\n * Return the body as an ArrayBuffer\n * @return {?}\n */\narrayBuffer(): ArrayBuffer {\n    if (this._body instanceof ArrayBuffer) {\n      return /** @type {?} */(( <ArrayBuffer>this._body));\n    }\n\n    return stringToArrayBuffer(this.text());\n  }\n/**\n * Returns the request's body as a Blob, assuming that body exists.\n * @return {?}\n */\nblob(): Blob {\n    if (this._body instanceof Blob) {\n      return /** @type {?} */(( <Blob>this._body));\n    }\n\n    if (this._body instanceof ArrayBuffer) {\n      return new Blob([this._body]);\n    }\n\n    throw new Error('The request body isn\\'t either a blob or an array buffer');\n  }\n}\n\nfunction Body_tsickle_Closure_declarations() {\n/**\n * \\@internal\n * @type {?}\n */\nBody.prototype._body;\n}\n\n"]}