{"version":3,"sources":["../../../../packages/platform-server/src/server_renderer.ts"],"names":[],"mappings":"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","file":"server_renderer.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DomElementSchemaRegistry} from '@angular/compiler';\nimport {APP_ID, Inject, Injectable, NgZone, RenderComponentType, Renderer, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, RootRenderer, ViewEncapsulation, ɵstringify as stringify} from '@angular/core';\nimport {DOCUMENT, ɵNAMESPACE_URIS as NAMESPACE_URIS, ɵSharedStylesHost as SharedStylesHost, ɵflattenStyles as flattenStyles, ɵgetDOM as getDOM, ɵshimContentAttribute as shimContentAttribute, ɵshimHostAttribute as shimHostAttribute} from '@angular/platform-browser';\n\nconst /** @type {?} */ EMPTY_ARRAY: any[] = [];\nexport class ServerRendererFactory2 implements RendererFactory2 {\nprivate rendererByCompId = new Map<string, Renderer2>();\nprivate defaultRenderer: Renderer2;\nprivate schema = new DomElementSchemaRegistry();\n/**\n * @param {?} ngZone\n * @param {?} document\n * @param {?} sharedStylesHost\n */\nconstructor(\nprivate ngZone: NgZone,\nprivate document: any,\nprivate sharedStylesHost: SharedStylesHost) {\n    this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n  };\n/**\n * @param {?} element\n * @param {?} type\n * @return {?}\n */\ncreateRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Native:\n      case ViewEncapsulation.Emulated: {\n        let /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer = new EmulatedEncapsulationServerRenderer2(\n              this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        ( /** @type {?} */((<EmulatedEncapsulationServerRenderer2>renderer))).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.Native:\n        throw new Error('Native encapsulation is not supported on the server!');\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const /** @type {?} */ styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n/**\n * @return {?}\n */\nbegin() {}\n/**\n * @return {?}\n */\nend() {}\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: NgZone, },\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: SharedStylesHost, },\n];\n}\n\nfunction ServerRendererFactory2_tsickle_Closure_declarations() {\n/** @type {?} */\nServerRendererFactory2.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerRendererFactory2.ctorParameters;\n/** @type {?} */\nServerRendererFactory2.prototype.rendererByCompId;\n/** @type {?} */\nServerRendererFactory2.prototype.defaultRenderer;\n/** @type {?} */\nServerRendererFactory2.prototype.schema;\n/** @type {?} */\nServerRendererFactory2.prototype.ngZone;\n/** @type {?} */\nServerRendererFactory2.prototype.document;\n/** @type {?} */\nServerRendererFactory2.prototype.sharedStylesHost;\n}\n\nclass DefaultServerRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} schema\n */\nconstructor(\nprivate document: any,\nprivate ngZone: NgZone,\nprivate schema: DomElementSchemaRegistry) {}\n/**\n * @return {?}\n */\ndestroy(): void {}\n\n  destroyNode: null;\n/**\n * @param {?} name\n * @param {?=} namespace\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateElement(name: string, namespace?: string, debugInfo?: any): any {\n    if (namespace) {\n      return getDOM().createElementNS(NAMESPACE_URIS[namespace], name);\n    }\n\n    return getDOM().createElement(name);\n  }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateComment(value: string, debugInfo?: any): any { return getDOM().createComment(value); }\n/**\n * @param {?} value\n * @param {?=} debugInfo\n * @return {?}\n */\ncreateText(value: string, debugInfo?: any): any { return getDOM().createTextNode(value); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void { getDOM().appendChild(parent, newChild); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      getDOM().insertBefore(parent, refChild, newChild);\n    }\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    if (parent) {\n      getDOM().removeChild(parent, oldChild);\n    }\n  }\n/**\n * @param {?} selectorOrNode\n * @param {?=} debugInfo\n * @return {?}\n */\nselectRootElement(selectorOrNode: string|any, debugInfo?: any): any {\n    let /** @type {?} */ el: any;\n    if (typeof selectorOrNode === 'string') {\n      el = getDOM().querySelector(this.document, selectorOrNode);\n      if (!el) {\n        throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n      }\n    } else {\n      el = selectorOrNode;\n    }\n    getDOM().clearNodes(el);\n    return el;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any): any { return getDOM().parentElement(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nnextSibling(node: any): any { return getDOM().nextSibling(node); }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @param {?=} namespace\n * @return {?}\n */\nsetAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().setAttributeNS(el, NAMESPACE_URIS[namespace], namespace + ':' + name, value);\n    } else {\n      getDOM().setAttribute(el, name, value);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\nremoveAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      getDOM().removeAttributeNS(el, NAMESPACE_URIS[namespace], name);\n    } else {\n      getDOM().removeAttribute(el, name);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\naddClass(el: any, name: string): void { getDOM().addClass(el, name); }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nremoveClass(el: any, name: string): void { getDOM().removeClass(el, name); }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} value\n * @param {?} flags\n * @return {?}\n */\nsetStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    getDOM().setStyle(el, style, value);\n  }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} flags\n * @return {?}\n */\nremoveStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    getDOM().removeStyle(el, style);\n  }\n/**\n * @param {?} tagName\n * @param {?} propertyName\n * @return {?}\n */\n\nprivate _isSafeToReflectProperty(tagName: string, propertyName: string): boolean {\n    return this.schema.securityContext(tagName, propertyName, true) ===\n        this.schema.securityContext(tagName, propertyName, false);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    getDOM().setProperty(el, name, value);\n    // Mirror property values for known HTML element properties in the attributes.\n    const /** @type {?} */ tagName = ( /** @type {?} */((el.tagName as string))).toLowerCase();\n    if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n        this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n        this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n        this._isSafeToReflectProperty(tagName, name)) {\n      this.setAttribute(el, name, value.toString());\n    }\n  }\n/**\n * @param {?} node\n * @param {?} value\n * @return {?}\n */\nsetValue(node: any, value: string): void { getDOM().setText(node, value); }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\nlisten(\n      target: 'document'|'window'|'body'|any, eventName: string,\n      callback: (event: any) => boolean): () => void {\n    // Note: We are not using the EventsPlugin here as this is not needed\n    // to run our tests.\n    checkNoSyntheticProp(eventName, 'listener');\n    const /** @type {?} */ el =\n        typeof target === 'string' ? getDOM().getGlobalEventTarget(this.document, target) : target;\n    const /** @type {?} */ outsideHandler = (event: any) => this.ngZone.runGuarded(() => callback(event));\n    return this.ngZone.runOutsideAngular(\n        () => /** @type {?} */(( getDOM().onAndCancel(el, eventName, outsideHandler) as any)));\n  }\n}\n\nfunction DefaultServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nDefaultServerRenderer2.prototype.data;\n/** @type {?} */\nDefaultServerRenderer2.prototype.destroyNode;\n/** @type {?} */\nDefaultServerRenderer2.prototype.document;\n/** @type {?} */\nDefaultServerRenderer2.prototype.ngZone;\n/** @type {?} */\nDefaultServerRenderer2.prototype.schema;\n}\n\n\nconst /** @type {?} */ AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\nclass EmulatedEncapsulationServerRenderer2 extends DefaultServerRenderer2 {\nprivate contentAttr: string;\nprivate hostAttr: string;\n/**\n * @param {?} document\n * @param {?} ngZone\n * @param {?} sharedStylesHost\n * @param {?} schema\n * @param {?} component\n */\nconstructor(\n      document: any, ngZone: NgZone, sharedStylesHost: SharedStylesHost,\n      schema: DomElementSchemaRegistry,\nprivate component: RendererType2) {\n    super(document, ngZone, schema);\n    const /** @type {?} */ styles = flattenStyles(component.id, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(component.id);\n    this.hostAttr = shimHostAttribute(component.id);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\napplyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n/**\n * @param {?} parent\n * @param {?} name\n * @return {?}\n */\ncreateElement(parent: any, name: string): Element {\n    const /** @type {?} */ el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nfunction EmulatedEncapsulationServerRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.contentAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.hostAttr;\n/** @type {?} */\nEmulatedEncapsulationServerRenderer2.prototype.component;\n}\n\n"]}