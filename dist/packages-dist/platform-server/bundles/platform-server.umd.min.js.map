{"version":3,"sources":["/Users/jasonaden/Projects/angular/dist/packages-dist/platform-server/bundles/platform-server.umd.js"],"names":["global","factory","exports","module","require","define","amd","ng","platformServer","core","platformBrowser","_angular_animations_browser","common","_angular_common_http","compiler","_angular_http","_angular_platformBrowser_animations","Rx","url","Observable","prototype","this","_angular_core","_angular_platformBrowser","_angular_common","_angular_compiler","rxjs_Observable","rxjs_Subject","rxjs_operator_filter","rxjs_operator_first","rxjs_operator_toPromise","__extends","d","b","__","constructor","extendStatics","Object","create","validateRequestUrl","url$$1","isAbsoluteUrl","test","Error","httpFactory","xhrBackend","options","macroBackend","ZoneMacroTaskBackend","Http","zoneWrappedInterceptingHandler","backend","interceptors","realBackend","ɵinterceptingHandler","ZoneClientBackend","PlatformConfig","parseUrl","urlStr","parsedUrl","parse","pathname","search","hash","scheduleMicroTask","fn","Zone","current","_notImplemented","methodName","_getElement","el","name","i","childNodes","length","node","parseDocument","html","doc","parse5$1","treeAdapter","treeAdapters","htmlparser2","docElement","remove","list","index","indexOf","splice","checkNoSyntheticProp","nameKind","charCodeAt","AT_CHARCODE","initParse5Adapter","injector","Parse5DomAdapter","makeCurrent","instantiateServerRendererFactory","renderer","engine","zone","ɵAnimationRendererFactory","_document","config","get","INITIAL_CONFIG","document","ɵgetDOM","createHtmlDocument","_getPlatform","platformFactory","extraProviders","provide","useValue","_render","platform","moduleRefPromise","then","moduleRef","transitionId","ɵTRANSITION_ID","applicationRef","ApplicationRef","toPromise","call","first","filter","isStable","output","PlatformState","renderToString","destroy","renderModule","platformDynamicServer","bootstrapModule","renderModuleFactory","moduleFactory","bootstrapModuleFactory","_doc","getInnerHTML","getDocument","decorators","type","Injectable","ctorParameters","undefined","Inject","args","DOCUMENT","setPrototypeOf","__proto__","Array","p","hasOwnProperty","xhr2","ServerXhr","build","XMLHttpRequest","ServerXsrfStrategy","configureRequest","req","ZoneMacroTaskWrapper","wrap","request","_this","observer","task","scheduled","sub","savedResult","savedError","scheduleTask","_task","delegate","subscribe","res","err","invoke","cancelTask","unsubscribe","onComplete","error","next","complete","scheduleMacroTask","ZoneMacroTaskConnection","_super","response","lastConnection","createConnection","defineProperty","readyState","ReadyState","Unsent","enumerable","configurable","handle","SERVER_HTTP_PROVIDERS","useFactory","deps","XHRBackend","RequestOptions","BrowserXhr","useClass","XSRFStrategy","XhrFactory","HttpHandler","HttpBackend","Optional","HTTP_INTERCEPTORS","InjectionToken","ServerPlatformLocation","_config","_path","_search","_hash","_hashUpdate","Subject","getBaseHrefFromDOM","getBaseHref","onPopState","onHashChange","setHash","value","oldUrl","newUrl","replaceState","state","title","pushState","forward","back","_attrToPropMap","class","innerHtml","readonly","tabindex","mapProps","apply","arguments","ɵsetRootDomAdapter","contains","nodeA","nodeB","inner","parent","hasProperty","element","_HTMLElementPropertyList","setProperty","setInnerHTML","setText","attribs","className","properties","getProperty","logError","console","log","logGroup","logGroupEnd","querySelector","selector","querySelectorAll","_recursive","result","matcher","cNodes","childNode","elementMatches","push","SelectorMatcher","addSelectables","CssSelector","isElementNode","charAt","getAttribute","substring","cssSelector","setElement","tagName","attrName","addAttribute","classList","addClassName","match","cb","on","evt","listener","listenersMap","_eventListenersMap","listeners","concat","onAndCancel","dispatchEvent","target","_window","createMouseEvent","eventType","createEvent","event","defaultPrevented","preventDefault","returnValue","isPrevented","serialize","templateAwareRoot","getTemplateContent","getOuterHTML","fragment","createDocumentFragment","appendChild","nodeName","nodeValue","content","firstChild","nextSibling","parentElement","childNodesAsList","clearNodes","removeChild","prev","previousSibling","insertBefore","ref","newNode","insertAllBefore","nodes","forEach","n","insertAfter","parseFragment","getText","isRecursive","isTextNode","data","isCommentNode","textContent","insertText","getValue","setValue","getChecked","checked","setChecked","createComment","text","createCommentNode","createTemplate","template","createElement","setTemplateContent","createElementNS","ns","createTextNode","t","createScriptTag","attrValue","createStyleElement","css","style","createShadowRoot","shadowRoot","getShadowRoot","getHost","host","getDistributedNodes","clone","nodeClone","getPrototypeOf","prop","desc","getOwnPropertyDescriptor","children","mapName","cNodesClone","childNodeClone","getElementsByClassName","getElementsByTagName","classAttrValue","attributes","trim","split","addClass","join","removeClass","hasClass","hasStyle","styleName","styleValue","getStyle","_readStyleAttribute","styleMap","styleAttrValue","styleList","colon","substr","_writeStyleAttribute","key","newValue","setStyle","removeStyle","attributeMap","Map","elAttrs","getAttrList","attrib","set","hasAttribute","attribute","hasAttributeNS","getAttributeNS","setAttribute","setAttributeNS","removeAttribute","removeAttributeNS","isTemplateElement","newDoc","createDocument","head","body","getBoundingClientRect","left","top","width","height","getTitle","getTitleNode","setTitle","newTitle","hasShadowRoot","isShadowRoot","importIntoDoc","adoptNode","getHref","resolveAndSetHref","baseUrl","href","_buildRules","parsedRules","rules","parsedRule","rule","cssText","selectors","replace","declarations","j","declaration","property","mediaText","media","supportsDOMEvents","supportsNativeShadowDOM","getGlobalEventTarget","base","resetBaseElement","getHistory","getLocation","getUserAgent","getData","getComputedStyle","setData","supportsWebAnimation","performanceNow","Date","now","getAnimationPrefix","getTransitionEnd","supportsAnimation","replaceChild","oldNode","templateHtml","getEventKey","supportsCookies","getCookie","setCookie","animate","keyframes","ɵDomAdapter","EMPTY_ARRAY","ServerRendererFactory2","ngZone","sharedStylesHost","rendererByCompId","schema","DomElementSchemaRegistry","defaultRenderer","DefaultServerRenderer2","createRenderer","encapsulation","ViewEncapsulation","Native","Emulated","id","EmulatedEncapsulationServerRenderer2","applyToHost","has","styles","ɵflattenStyles","addStyles","begin","end","NgZone","ɵSharedStylesHost","namespace","debugInfo","ɵNAMESPACE_URIS","createText","newChild","refChild","oldChild","selectRootElement","selectorOrNode","parentNode","flags","_isSafeToReflectProperty","propertyName","securityContext","toLowerCase","hasElement","toString","listen","eventName","callback","outsideHandler","runGuarded","runOutsideAngular","component","contentAttr","ɵshimContentAttribute","hostAttr","ɵshimHostAttribute","ServerStylesHost","_addStyle","adapter","onStylesAdded","additions","INTERNAL_SERVER_PLATFORM_PROVIDERS","Injector","PLATFORM_ID","ɵPLATFORM_SERVER_ID","PLATFORM_INITIALIZER","multi","PlatformLocation","ɵALLOW_MULTIPLE_PLATFORMS","SERVER_RENDER_PROVIDERS","RendererFactory2","ɵAnimationEngine","useExisting","ServerModule","NgModule","BrowserModule","imports","HttpModule","HttpClientModule","NoopAnimationsModule","providers","Testability","createPlatformFactory","platformCore","platformCoreDynamic","VERSION","Version","ɵINTERNAL_SERVER_PLATFORM_PROVIDERS","ɵSERVER_RENDER_PROVIDERS","ɵServerRendererFactory2","ɵg","ɵc","ɵd","ɵe","ɵf","ɵa","ɵb"],"mappings":"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AUwc,UAAY,SAAUpZ,MAAQ,KAAM,IAAI7B,OAAM,oBAMzEqD,iBAAiB5E,UAAUyc,UAAY,SAAUrZ,KAAMwJ,OAAS,KAAM,IAAIrL,OAAM,oBAOhFqD,iBAAiB5E,UAAU0c,QAAU,SAAUtO,QAASuO,UAAWjb,SAAW,KAAM,IAAIH,OAAM,oBAK9FqD,iBAAiB5E,UAAUwZ,aAAe,SAAU7V,KAChD,GAAqBsJ,OAAQhN,KAAKiP,cAAcvL,IAAK,QAKrD,OAJKsJ,SACDA,MAAShN,KAAK0U,cAAc,SAC5B1U,KAAKoS,YAAYpS,KAAKiP,cAAcvL,IAAK,QAASsJ,QAE/CA,OAEJrI,kBACTzE,yBAAyByc,aAEvBvO,0BACA,gBACA,cACA,kBACA,qBACA,eACA,iBACA,SACA,oBACA,WACA,eACA,QACA,gBACA,cACA,QACA,SACA,eACA,OACA,OACA,MACA,OACA,WACA,WACA,cACA,UACA,OACA,WACA,MACA,YACA,YACA,MACA,OACA,gBACA,SACA,aACA,iBACA,aACA,cACA,aACA,QACA,OACA,WACA,UACA,UACA,iBACA,YACA,eACA,MACA,QACA,SACA,sBACA,iBACA,YACA,iBACA,WACA,eACA,YACA,WACA,YACA,SACA,WACA,YACA,WACA,WACA,WACA,UACA,eACA,aACA,YACA,SACA,UACA,eACA,YACA,cACA,aACA,cACA,eACA,eACA,cACA,cACA,mBACA,eACA,SACA,UACA,aACA,YACA,YACA,UACA,UACA,UACA,UACA,YACA,mBACA,SACA,cACA,aACA,cACA,cACA,YACA,SACA,aACA,cACA,gBACA,UACA,UACA,WACA,mBACA,YACA,WACA,SACA,UACA,aACA,oBACA,kBACA,YACA,YACA,YACA,SACA,iBACA,YACA,WACA,MACA,YACA,OACA,QACA,oBACA,mBACA,oBACA,WACA,0BACA,2BACA,qBACA,yBACA,UACA,gBACA,WACA,UACA,QACA,SACA,gBACA,cACA,eACA,aACA,UACA,YACA,YACA,YACA,YACA,eACA,cACA,YACA,aACA,eACA,cACA,YACA,aACA,eACA,eACA,cA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","file":"/Users/jasonaden/Projects/angular/dist/packages-dist/platform-server/bundles/platform-server.umd.min.js","sourcesContent":["/**\n * @license Angular v5.0.0-beta.3-14502f5b34\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/platform-browser'), require('@angular/animations/browser'), require('@angular/common'), require('@angular/common/http'), require('@angular/compiler'), require('@angular/http'), require('@angular/platform-browser/animations'), require('rxjs/Observable'), require('rxjs/Subject'), require('url'), require('rxjs/operator/filter'), require('rxjs/operator/first'), require('rxjs/operator/toPromise')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/core', '@angular/platform-browser', '@angular/animations/browser', '@angular/common', '@angular/common/http', '@angular/compiler', '@angular/http', '@angular/platform-browser/animations', 'rxjs/Observable', 'rxjs/Subject', 'url', 'rxjs/operator/filter', 'rxjs/operator/first', 'rxjs/operator/toPromise'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.platformServer = global.ng.platformServer || {}),global.ng.core,global.ng.platformBrowser,global._angular_animations_browser,global.ng.common,global._angular_common_http,global.ng.compiler,global._angular_http,global._angular_platformBrowser_animations,global.Rx,global.Rx,global.url,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype));\n}(this, (function (exports,_angular_core,_angular_platformBrowser,_angular_animations_browser,_angular_common,_angular_common_http,_angular_compiler,_angular_http,_angular_platformBrowser_animations,rxjs_Observable,rxjs_Subject,url,rxjs_operator_filter,rxjs_operator_first,rxjs_operator_toPromise) { 'use strict';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar parse5 = require('parse5');\n/**\n * Representation of the current platform state.\n *\n * \\@experimental\n */\nvar PlatformState = (function () {\n    /**\n     * @param {?} _doc\n     */\n    function PlatformState(_doc) {\n        this._doc = _doc;\n    }\n    /**\n     * Renders the current state of the platform to string.\n     * @return {?}\n     */\n    PlatformState.prototype.renderToString = function () { return _angular_platformBrowser.ɵgetDOM().getInnerHTML(this._doc); };\n    /**\n     * Returns the current DOM state.\n     * @return {?}\n     */\n    PlatformState.prototype.getDocument = function () { return this._doc; };\n    return PlatformState;\n}());\nPlatformState.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nPlatformState.ctorParameters = function () { return [\n    { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n]; };\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar xhr2 = require('xhr2');\nvar isAbsoluteUrl = /^[a-zA-Z\\-\\+.]+:\\/\\//;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction validateRequestUrl(url$$1) {\n    if (!isAbsoluteUrl.test(url$$1)) {\n        throw new Error(\"URLs requested via Http on the server must be absolute. URL: \" + url$$1);\n    }\n}\nvar ServerXhr = (function () {\n    function ServerXhr() {\n    }\n    /**\n     * @return {?}\n     */\n    ServerXhr.prototype.build = function () { return new xhr2.XMLHttpRequest(); };\n    return ServerXhr;\n}());\nServerXhr.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServerXhr.ctorParameters = function () { return []; };\nvar ServerXsrfStrategy = (function () {\n    function ServerXsrfStrategy() {\n    }\n    /**\n     * @param {?} req\n     * @return {?}\n     */\n    ServerXsrfStrategy.prototype.configureRequest = function (req) { };\n    return ServerXsrfStrategy;\n}());\nServerXsrfStrategy.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServerXsrfStrategy.ctorParameters = function () { return []; };\n/**\n * @abstract\n */\nvar ZoneMacroTaskWrapper = (function () {\n    function ZoneMacroTaskWrapper() {\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskWrapper.prototype.wrap = function (request) {\n        var _this = this;\n        return new rxjs_Observable.Observable(function (observer) {\n            var /** @type {?} */ task = ((null));\n            var /** @type {?} */ scheduled = false;\n            var /** @type {?} */ sub = null;\n            var /** @type {?} */ savedResult = null;\n            var /** @type {?} */ savedError = null;\n            var /** @type {?} */ scheduleTask = function (_task) {\n                task = _task;\n                scheduled = true;\n                var /** @type {?} */ delegate = _this.delegate(request);\n                sub = delegate.subscribe(function (res) { return savedResult = res; }, function (err) {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    savedError = err;\n                    scheduled = false;\n                    task.invoke();\n                }, function () {\n                    if (!scheduled) {\n                        throw new Error('An http observable was completed twice. This shouldn\\'t happen, please file a bug.');\n                    }\n                    scheduled = false;\n                    task.invoke();\n                });\n            };\n            var /** @type {?} */ cancelTask = function (_task) {\n                if (!scheduled) {\n                    return;\n                }\n                scheduled = false;\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n            var /** @type {?} */ onComplete = function () {\n                if (savedError !== null) {\n                    observer.error(savedError);\n                }\n                else {\n                    observer.next(savedResult);\n                    observer.complete();\n                }\n            };\n            // MockBackend for Http is synchronous, which means that if scheduleTask is by\n            // scheduleMacroTask, the request will hit MockBackend and the response will be\n            // sent, causing task.invoke() to be called.\n            var /** @type {?} */ _task = Zone.current.scheduleMacroTask('ZoneMacroTaskWrapper.subscribe', onComplete, {}, function () { return null; }, cancelTask);\n            scheduleTask(_task);\n            return function () {\n                if (scheduled && task) {\n                    task.zone.cancelTask(task);\n                    scheduled = false;\n                }\n                if (sub) {\n                    sub.unsubscribe();\n                    sub = null;\n                }\n            };\n        });\n    };\n    return ZoneMacroTaskWrapper;\n}());\nvar ZoneMacroTaskConnection = (function (_super) {\n    __extends(ZoneMacroTaskConnection, _super);\n    /**\n     * @param {?} request\n     * @param {?} backend\n     */\n    function ZoneMacroTaskConnection(request, backend) {\n        var _this = _super.call(this) || this;\n        _this.request = request;\n        _this.backend = backend;\n        validateRequestUrl(request.url);\n        _this.response = _this.wrap(request);\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskConnection.prototype.delegate = function (request) {\n        this.lastConnection = this.backend.createConnection(request);\n        return (this.lastConnection.response);\n    };\n    Object.defineProperty(ZoneMacroTaskConnection.prototype, \"readyState\", {\n        /**\n         * @return {?}\n         */\n        get: function () {\n            return !!this.lastConnection ? this.lastConnection.readyState : _angular_http.ReadyState.Unsent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ZoneMacroTaskConnection;\n}(ZoneMacroTaskWrapper));\nvar ZoneMacroTaskBackend = (function () {\n    /**\n     * @param {?} backend\n     */\n    function ZoneMacroTaskBackend(backend) {\n        this.backend = backend;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneMacroTaskBackend.prototype.createConnection = function (request) {\n        return new ZoneMacroTaskConnection(request, this.backend);\n    };\n    return ZoneMacroTaskBackend;\n}());\nvar ZoneClientBackend = (function (_super) {\n    __extends(ZoneClientBackend, _super);\n    /**\n     * @param {?} backend\n     */\n    function ZoneClientBackend(backend) {\n        var _this = _super.call(this) || this;\n        _this.backend = backend;\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.handle = function (request) { return this.wrap(request); };\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    ZoneClientBackend.prototype.delegate = function (request) {\n        return this.backend.handle(request);\n    };\n    return ZoneClientBackend;\n}(ZoneMacroTaskWrapper));\n/**\n * @param {?} xhrBackend\n * @param {?} options\n * @return {?}\n */\nfunction httpFactory(xhrBackend, options) {\n    var /** @type {?} */ macroBackend = new ZoneMacroTaskBackend(xhrBackend);\n    return new _angular_http.Http(macroBackend, options);\n}\n/**\n * @param {?} backend\n * @param {?} interceptors\n * @return {?}\n */\nfunction zoneWrappedInterceptingHandler(backend, interceptors) {\n    var /** @type {?} */ realBackend = _angular_common_http.ɵinterceptingHandler(backend, interceptors);\n    return new ZoneClientBackend(realBackend);\n}\nvar SERVER_HTTP_PROVIDERS = [\n    { provide: _angular_http.Http, useFactory: httpFactory, deps: [_angular_http.XHRBackend, _angular_http.RequestOptions] },\n    { provide: _angular_http.BrowserXhr, useClass: ServerXhr }, { provide: _angular_http.XSRFStrategy, useClass: ServerXsrfStrategy },\n    { provide: _angular_common_http.XhrFactory, useClass: ServerXhr }, {\n        provide: _angular_common_http.HttpHandler,\n        useFactory: zoneWrappedInterceptingHandler,\n        deps: [_angular_common_http.HttpBackend, [new _angular_core.Optional(), _angular_common_http.HTTP_INTERCEPTORS]]\n    }\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Config object passed to initialize the platform.\n *\n * \\@experimental\n * @record\n */\nfunction PlatformConfig() { }\n/**\n * The DI token for setting the initial config for the platform.\n *\n * \\@experimental\n */\nvar INITIAL_CONFIG = new _angular_core.InjectionToken('Server.INITIAL_CONFIG');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @param {?} urlStr\n * @return {?}\n */\nfunction parseUrl(urlStr) {\n    var /** @type {?} */ parsedUrl = url.parse(urlStr);\n    return {\n        pathname: parsedUrl.pathname || '',\n        search: parsedUrl.search || '',\n        hash: parsedUrl.hash || '',\n    };\n}\n/**\n * Server-side implementation of URL state. Implements `pathname`, `search`, and `hash`\n * but not the state stack.\n */\nvar ServerPlatformLocation = (function () {\n    /**\n     * @param {?} _doc\n     * @param {?} _config\n     */\n    function ServerPlatformLocation(_doc, _config) {\n        this._doc = _doc;\n        this._path = '/';\n        this._search = '';\n        this._hash = '';\n        this._hashUpdate = new rxjs_Subject.Subject();\n        var /** @type {?} */ config = (_config);\n        if (!!config && !!config.url) {\n            var /** @type {?} */ parsedUrl = parseUrl(config.url);\n            this._path = parsedUrl.pathname;\n            this._search = parsedUrl.search;\n            this._hash = parsedUrl.hash;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.getBaseHrefFromDOM = function () { return ((_angular_platformBrowser.ɵgetDOM().getBaseHref(this._doc))); };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onPopState = function (fn) {\n        // No-op: a state stack is not implemented, so\n        // no events will ever come.\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.onHashChange = function (fn) { this._hashUpdate.subscribe(fn); };\n    Object.defineProperty(ServerPlatformLocation.prototype, \"pathname\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._path; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ServerPlatformLocation.prototype, \"search\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._search; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ServerPlatformLocation.prototype, \"hash\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return this._hash; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ServerPlatformLocation.prototype, \"url\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return \"\" + this.pathname + this.search + this.hash; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} value\n     * @param {?} oldUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.setHash = function (value, oldUrl) {\n        var _this = this;\n        if (this._hash === value) {\n            // Don't fire events if the hash has not changed.\n            return;\n        }\n        this._hash = value;\n        var /** @type {?} */ newUrl = this.url;\n        scheduleMicroTask(function () { return _this._hashUpdate.next(/** @type {?} */ ({ type: 'hashchange', oldUrl: oldUrl, newUrl: newUrl })); });\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.replaceState = function (state, title, newUrl) {\n        var /** @type {?} */ oldUrl = this.url;\n        var /** @type {?} */ parsedUrl = parseUrl(newUrl);\n        this._path = parsedUrl.pathname;\n        this._search = parsedUrl.search;\n        this.setHash(parsedUrl.hash, oldUrl);\n    };\n    /**\n     * @param {?} state\n     * @param {?} title\n     * @param {?} newUrl\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.pushState = function (state, title, newUrl) {\n        this.replaceState(state, title, newUrl);\n    };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.forward = function () { throw new Error('Not implemented'); };\n    /**\n     * @return {?}\n     */\n    ServerPlatformLocation.prototype.back = function () { throw new Error('Not implemented'); };\n    return ServerPlatformLocation;\n}());\nServerPlatformLocation.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServerPlatformLocation.ctorParameters = function () { return [\n    { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n    { type: undefined, decorators: [{ type: _angular_core.Optional }, { type: _angular_core.Inject, args: [INITIAL_CONFIG,] },] },\n]; };\n/**\n * @param {?} fn\n * @return {?}\n */\nfunction scheduleMicroTask(fn) {\n    Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar parse5$1 = require('parse5');\nvar treeAdapter;\nvar _attrToPropMap = {\n    'class': 'className',\n    'innerHtml': 'innerHTML',\n    'readonly': 'readOnly',\n    'tabindex': 'tabIndex',\n};\nvar mapProps = ['attribs', 'x-attribsNamespace', 'x-attribsPrefix'];\n/**\n * @param {?} methodName\n * @return {?}\n */\nfunction _notImplemented(methodName) {\n    return new Error('This method is not implemented in Parse5DomAdapter: ' + methodName);\n}\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nfunction _getElement(el, name) {\n    for (var /** @type {?} */ i = 0; i < el.childNodes.length; i++) {\n        var /** @type {?} */ node = el.childNodes[i];\n        if (node.name === name) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Parses a document string to a Document object.\n * @param {?} html\n * @return {?}\n */\nfunction parseDocument(html) {\n    var /** @type {?} */ doc = parse5$1.parse(html, { treeAdapter: parse5$1.treeAdapters.htmlparser2 });\n    var /** @type {?} */ docElement = _getElement(doc, 'html');\n    doc['head'] = _getElement(docElement, 'head');\n    doc['body'] = _getElement(docElement, 'body');\n    doc['_window'] = {};\n    return doc;\n}\n/**\n * A `DomAdapter` powered by the `parse5` NodeJS module.\n *\n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n */\nvar Parse5DomAdapter = (function (_super) {\n    __extends(Parse5DomAdapter, _super);\n    function Parse5DomAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.makeCurrent = function () {\n        treeAdapter = parse5$1.treeAdapters.htmlparser2;\n        _angular_platformBrowser.ɵsetRootDomAdapter(new Parse5DomAdapter());\n    };\n    /**\n     * @param {?} nodeA\n     * @param {?} nodeB\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.contains = function (nodeA, nodeB) {\n        var /** @type {?} */ inner = nodeB;\n        while (inner) {\n            if (inner === nodeA)\n                return true;\n            inner = inner.parent;\n        }\n        return false;\n    };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasProperty = function (element, name) {\n        return _HTMLElementPropertyList.indexOf(name) > -1;\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setProperty = function (el, name, value) {\n        if (name === 'innerHTML') {\n            this.setInnerHTML(el, value);\n        }\n        else if (name === 'innerText') {\n            this.setText(el, value);\n        }\n        else if (name === 'className') {\n            el.attribs['class'] = el.className = value;\n        }\n        else {\n            // Store the property in a separate property bag so that it doesn't clobber\n            // actual parse5 properties on the Element.\n            el.properties = el.properties || {};\n            el.properties[name] = value;\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getProperty = function (el, name) {\n        return el.properties ? el.properties[name] : undefined;\n    };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.logError = function (error) { console.error(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.log = function (error) { console.log(error); };\n    /**\n     * @param {?} error\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.logGroup = function (error) { console.error(error); };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.logGroupEnd = function () { };\n    Object.defineProperty(Parse5DomAdapter.prototype, \"attrToPropMap\", {\n        /**\n         * @return {?}\n         */\n        get: function () { return _attrToPropMap; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.querySelector = function (el, selector) {\n        return this.querySelectorAll(el, selector)[0] || null;\n    };\n    /**\n     * @param {?} el\n     * @param {?} selector\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.querySelectorAll = function (el, selector) {\n        var _this = this;\n        var /** @type {?} */ res = [];\n        var /** @type {?} */ _recursive = function (result, node, selector, matcher) {\n            var /** @type {?} */ cNodes = node.childNodes;\n            if (cNodes && cNodes.length > 0) {\n                for (var /** @type {?} */ i = 0; i < cNodes.length; i++) {\n                    var /** @type {?} */ childNode = cNodes[i];\n                    if (_this.elementMatches(childNode, selector, matcher)) {\n                        result.push(childNode);\n                    }\n                    _recursive(result, childNode, selector, matcher);\n                }\n            }\n        };\n        var /** @type {?} */ matcher = new _angular_compiler.SelectorMatcher();\n        matcher.addSelectables(_angular_compiler.CssSelector.parse(selector));\n        _recursive(res, el, selector, matcher);\n        return res;\n    };\n    /**\n     * @param {?} node\n     * @param {?} selector\n     * @param {?=} matcher\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.elementMatches = function (node, selector, matcher) {\n        if (matcher === void 0) { matcher = null; }\n        if (this.isElementNode(node) && selector === '*') {\n            return true;\n        }\n        var /** @type {?} */ result = false;\n        if (selector && selector.charAt(0) == '#') {\n            result = this.getAttribute(node, 'id') == selector.substring(1);\n        }\n        else if (selector) {\n            if (!matcher) {\n                matcher = new _angular_compiler.SelectorMatcher();\n                matcher.addSelectables(_angular_compiler.CssSelector.parse(selector));\n            }\n            var /** @type {?} */ cssSelector = new _angular_compiler.CssSelector();\n            cssSelector.setElement(this.tagName(node));\n            if (node.attribs) {\n                for (var /** @type {?} */ attrName in node.attribs) {\n                    cssSelector.addAttribute(attrName, node.attribs[attrName]);\n                }\n            }\n            var /** @type {?} */ classList = this.classList(node);\n            for (var /** @type {?} */ i = 0; i < classList.length; i++) {\n                cssSelector.addClassName(classList[i]);\n            }\n            matcher.match(cssSelector, function (selector, cb) { result = true; });\n        }\n        return result;\n    };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.on = function (el, evt, listener) {\n        var /** @type {?} */ listenersMap = el._eventListenersMap;\n        if (!listenersMap) {\n            listenersMap = {};\n            el._eventListenersMap = listenersMap;\n        }\n        var /** @type {?} */ listeners = listenersMap[evt] || [];\n        listenersMap[evt] = listeners.concat([listener]);\n    };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @param {?} listener\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n        this.on(el, evt, listener);\n        return function () { remove(/** @type {?} */ ((el._eventListenersMap[evt])), listener); };\n    };\n    /**\n     * @param {?} el\n     * @param {?} evt\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.dispatchEvent = function (el, evt) {\n        if (!evt.target) {\n            evt.target = el;\n        }\n        if (el._eventListenersMap) {\n            var /** @type {?} */ listeners = el._eventListenersMap[evt.type];\n            if (listeners) {\n                for (var /** @type {?} */ i = 0; i < listeners.length; i++) {\n                    listeners[i](evt);\n                }\n            }\n        }\n        if (el.parent) {\n            this.dispatchEvent(el.parent, evt);\n        }\n        if (el._window) {\n            this.dispatchEvent(el._window, evt);\n        }\n    };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createMouseEvent = function (eventType) { return this.createEvent(eventType); };\n    /**\n     * @param {?} eventType\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createEvent = function (eventType) {\n        var /** @type {?} */ event = ({\n            type: eventType,\n            defaultPrevented: false,\n            preventDefault: function () { ((event)).defaultPrevented = true; }\n        });\n        return event;\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.preventDefault = function (event) { event.returnValue = false; };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isPrevented = function (event) { return event.returnValue != null && !event.returnValue; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getInnerHTML = function (el) {\n        return parse5$1.serialize(this.templateAwareRoot(el), { treeAdapter: treeAdapter });\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getTemplateContent = function (el) { return null; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getOuterHTML = function (el) {\n        var /** @type {?} */ fragment = treeAdapter.createDocumentFragment();\n        this.appendChild(fragment, el);\n        return parse5$1.serialize(fragment, { treeAdapter: treeAdapter });\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.nodeName = function (node) { return node.tagName; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.type = function (node) { throw _notImplemented('type'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.content = function (node) { return node.childNodes[0]; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.parentElement = function (el) { return el.parent; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.childNodesAsList = function (el) {\n        var /** @type {?} */ childNodes = el.childNodes;\n        var /** @type {?} */ res = new Array(childNodes.length);\n        for (var /** @type {?} */ i = 0; i < childNodes.length; i++) {\n            res[i] = childNodes[i];\n        }\n        return res;\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.clearNodes = function (el) {\n        while (el.childNodes.length > 0) {\n            this.remove(el.childNodes[0]);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.appendChild = function (el, node) {\n        this.remove(node);\n        treeAdapter.appendChild(this.templateAwareRoot(el), node);\n    };\n    /**\n     * @param {?} el\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.removeChild = function (el, node) {\n        if (el.childNodes.indexOf(node) > -1) {\n            this.remove(node);\n        }\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.remove = function (el) {\n        var /** @type {?} */ parent = el.parent;\n        if (parent) {\n            var /** @type {?} */ index = parent.childNodes.indexOf(el);\n            parent.childNodes.splice(index, 1);\n        }\n        var /** @type {?} */ prev = el.previousSibling;\n        var /** @type {?} */ next = el.nextSibling;\n        if (prev) {\n            prev.next = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        el.prev = null;\n        el.next = null;\n        el.parent = null;\n        return el;\n    };\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} newNode\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.insertBefore = function (parent, ref, newNode) {\n        this.remove(newNode);\n        if (ref) {\n            treeAdapter.insertBefore(parent, newNode, ref);\n        }\n        else {\n            this.appendChild(parent, newNode);\n        }\n    };\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} nodes\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.insertAllBefore = function (parent, ref, nodes) {\n        var _this = this;\n        nodes.forEach(function (n) { return _this.insertBefore(parent, ref, n); });\n    };\n    /**\n     * @param {?} parent\n     * @param {?} ref\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.insertAfter = function (parent, ref, node) {\n        if (ref.nextSibling) {\n            this.insertBefore(parent, ref.nextSibling, node);\n        }\n        else {\n            this.appendChild(parent, node);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setInnerHTML = function (el, value) {\n        this.clearNodes(el);\n        var /** @type {?} */ content = parse5$1.parseFragment(value, { treeAdapter: treeAdapter });\n        for (var /** @type {?} */ i = 0; i < content.childNodes.length; i++) {\n            treeAdapter.appendChild(el, content.childNodes[i]);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?=} isRecursive\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getText = function (el, isRecursive) {\n        if (this.isTextNode(el)) {\n            return el.data;\n        }\n        if (this.isCommentNode(el)) {\n            // In the DOM, comments within an element return an empty string for textContent\n            // However, comment node instances return the comment content for textContent getter\n            return isRecursive ? '' : el.data;\n        }\n        if (!el.childNodes || el.childNodes.length == 0) {\n            return '';\n        }\n        var /** @type {?} */ textContent = '';\n        for (var /** @type {?} */ i = 0; i < el.childNodes.length; i++) {\n            textContent += this.getText(el.childNodes[i], true);\n        }\n        return textContent;\n    };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setText = function (el, value) {\n        if (this.isTextNode(el) || this.isCommentNode(el)) {\n            el.data = value;\n        }\n        else {\n            this.clearNodes(el);\n            if (value !== '')\n                treeAdapter.insertText(el, value);\n        }\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getValue = function (el) { return el.value; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getChecked = function (el) { return el.checked; };\n    /**\n     * @param {?} el\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createComment = function (text) { return treeAdapter.createCommentNode(text); };\n    /**\n     * @param {?} html\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createTemplate = function (html) {\n        var /** @type {?} */ template = treeAdapter.createElement('template', 'http://www.w3.org/1999/xhtml', []);\n        var /** @type {?} */ content = parse5$1.parseFragment(html, { treeAdapter: treeAdapter });\n        treeAdapter.setTemplateContent(template, content);\n        return template;\n    };\n    /**\n     * @param {?} tagName\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createElement = function (tagName) {\n        return treeAdapter.createElement(tagName, 'http://www.w3.org/1999/xhtml', []);\n    };\n    /**\n     * @param {?} ns\n     * @param {?} tagName\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createElementNS = function (ns, tagName) {\n        return treeAdapter.createElement(tagName, ns, []);\n    };\n    /**\n     * @param {?} text\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createTextNode = function (text) {\n        var /** @type {?} */ t = (this.createComment(text));\n        t.type = 'text';\n        return t;\n    };\n    /**\n     * @param {?} attrName\n     * @param {?} attrValue\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createScriptTag = function (attrName, attrValue) {\n        return treeAdapter.createElement('script', 'http://www.w3.org/1999/xhtml', [{ name: attrName, value: attrValue }]);\n    };\n    /**\n     * @param {?} css\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createStyleElement = function (css) {\n        var /** @type {?} */ style = this.createElement('style');\n        this.setText(style, css);\n        return (style);\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createShadowRoot = function (el) {\n        el.shadowRoot = treeAdapter.createDocumentFragment();\n        el.shadowRoot.parent = el;\n        return el.shadowRoot;\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getHost = function (el) { return el.host; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getDistributedNodes = function (el) { throw _notImplemented('getDistributedNodes'); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.clone = function (node) {\n        var /** @type {?} */ _recursive = function (node) {\n            var /** @type {?} */ nodeClone = Object.create(Object.getPrototypeOf(node));\n            for (var /** @type {?} */ prop in node) {\n                var /** @type {?} */ desc = Object.getOwnPropertyDescriptor(node, prop);\n                if (desc && 'value' in desc && typeof desc.value !== 'object') {\n                    nodeClone[prop] = node[prop];\n                }\n            }\n            nodeClone.parent = null;\n            nodeClone.prev = null;\n            nodeClone.next = null;\n            nodeClone.children = null;\n            mapProps.forEach(function (mapName) {\n                if (node[mapName] != null) {\n                    nodeClone[mapName] = {};\n                    for (var /** @type {?} */ prop in node[mapName]) {\n                        nodeClone[mapName][prop] = node[mapName][prop];\n                    }\n                }\n            });\n            var /** @type {?} */ cNodes = node.children;\n            if (cNodes) {\n                var /** @type {?} */ cNodesClone = new Array(cNodes.length);\n                for (var /** @type {?} */ i = 0; i < cNodes.length; i++) {\n                    var /** @type {?} */ childNode = cNodes[i];\n                    var /** @type {?} */ childNodeClone = _recursive(childNode);\n                    cNodesClone[i] = childNodeClone;\n                    if (i > 0) {\n                        childNodeClone.prev = cNodesClone[i - 1];\n                        cNodesClone[i - 1].next = childNodeClone;\n                    }\n                    childNodeClone.parent = nodeClone;\n                }\n                nodeClone.children = cNodesClone;\n            }\n            return nodeClone;\n        };\n        return _recursive(node);\n    };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getElementsByClassName = function (element, name) {\n        return this.querySelectorAll(element, '.' + name);\n    };\n    /**\n     * @param {?} element\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getElementsByTagName = function (element, name) {\n        return this.querySelectorAll(element, name);\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.classList = function (element) {\n        var /** @type {?} */ classAttrValue = null;\n        var /** @type {?} */ attributes = element.attribs;\n        if (attributes && attributes['class'] != null) {\n            classAttrValue = attributes['class'];\n        }\n        return classAttrValue ? classAttrValue.trim().split(/\\s+/g) : [];\n    };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.addClass = function (element, className) {\n        var /** @type {?} */ classList = this.classList(element);\n        var /** @type {?} */ index = classList.indexOf(className);\n        if (index == -1) {\n            classList.push(className);\n            element.attribs['class'] = element.className = classList.join(' ');\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.removeClass = function (element, className) {\n        var /** @type {?} */ classList = this.classList(element);\n        var /** @type {?} */ index = classList.indexOf(className);\n        if (index > -1) {\n            classList.splice(index, 1);\n            element.attribs['class'] = element.className = classList.join(' ');\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} className\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasClass = function (element, className) {\n        return this.classList(element).indexOf(className) > -1;\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasStyle = function (element, styleName, styleValue) {\n        var /** @type {?} */ value = this.getStyle(element, styleName) || '';\n        return styleValue ? value == styleValue : value.length > 0;\n    };\n    /**\n     * \\@internal\n     * @param {?} element\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype._readStyleAttribute = function (element) {\n        var /** @type {?} */ styleMap = {};\n        var /** @type {?} */ attributes = element.attribs;\n        if (attributes && attributes['style'] != null) {\n            var /** @type {?} */ styleAttrValue = attributes['style'];\n            var /** @type {?} */ styleList = styleAttrValue.split(/;+/g);\n            for (var /** @type {?} */ i = 0; i < styleList.length; i++) {\n                if (styleList[i].length > 0) {\n                    var /** @type {?} */ style = (styleList[i]);\n                    var /** @type {?} */ colon = style.indexOf(':');\n                    if (colon === -1) {\n                        throw new Error(\"Invalid CSS style: \" + style);\n                    }\n                    ((styleMap))[style.substr(0, colon).trim()] = style.substr(colon + 1).trim();\n                }\n            }\n        }\n        return styleMap;\n    };\n    /**\n     * \\@internal\n     * @param {?} element\n     * @param {?} styleMap\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype._writeStyleAttribute = function (element, styleMap) {\n        var /** @type {?} */ styleAttrValue = '';\n        for (var /** @type {?} */ key in styleMap) {\n            var /** @type {?} */ newValue = styleMap[key];\n            if (newValue) {\n                styleAttrValue += key + ':' + styleMap[key] + ';';\n            }\n        }\n        element.attribs['style'] = styleAttrValue;\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @param {?=} styleValue\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setStyle = function (element, styleName, styleValue) {\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        ((styleMap))[styleName] = styleValue;\n        this._writeStyleAttribute(element, styleMap);\n    };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.removeStyle = function (element, styleName) { this.setStyle(element, styleName, null); };\n    /**\n     * @param {?} element\n     * @param {?} styleName\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getStyle = function (element, styleName) {\n        var /** @type {?} */ styleMap = this._readStyleAttribute(element);\n        return styleMap.hasOwnProperty(styleName) ? ((styleMap))[styleName] : '';\n    };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.tagName = function (element) { return element.tagName == 'style' ? 'STYLE' : element.tagName; };\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.attributeMap = function (element) {\n        var /** @type {?} */ res = new Map();\n        var /** @type {?} */ elAttrs = treeAdapter.getAttrList(element);\n        for (var /** @type {?} */ i = 0; i < elAttrs.length; i++) {\n            var /** @type {?} */ attrib = elAttrs[i];\n            res.set(attrib.name, attrib.value);\n        }\n        return res;\n    };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasAttribute = function (element, attribute) {\n        return element.attribs && element.attribs[attribute] != null;\n    };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasAttributeNS = function (element, ns, attribute) {\n        return this.hasAttribute(element, attribute);\n    };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getAttribute = function (element, attribute) {\n        return this.hasAttribute(element, attribute) ? element.attribs[attribute] : null;\n    };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getAttributeNS = function (element, ns, attribute) {\n        return this.getAttribute(element, attribute);\n    };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setAttribute = function (element, attribute, value) {\n        if (attribute) {\n            element.attribs[attribute] = value;\n            if (attribute === 'class') {\n                element.className = value;\n            }\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} attribute\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setAttributeNS = function (element, ns, attribute, value) {\n        this.setAttribute(element, attribute, value);\n    };\n    /**\n     * @param {?} element\n     * @param {?} attribute\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.removeAttribute = function (element, attribute) {\n        if (attribute) {\n            delete element.attribs[attribute];\n        }\n    };\n    /**\n     * @param {?} element\n     * @param {?} ns\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.removeAttributeNS = function (element, ns, name) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.templateAwareRoot = function (el) {\n        return this.isTemplateElement(el) ? treeAdapter.getTemplateContent(el) : el;\n    };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.createHtmlDocument = function () {\n        var /** @type {?} */ newDoc = treeAdapter.createDocument();\n        newDoc.title = 'fakeTitle';\n        var /** @type {?} */ head = treeAdapter.createElement('head', null, []);\n        var /** @type {?} */ body = treeAdapter.createElement('body', 'http://www.w3.org/1999/xhtml', []);\n        this.appendChild(newDoc, head);\n        this.appendChild(newDoc, body);\n        newDoc['head'] = head;\n        newDoc['body'] = body;\n        newDoc['_window'] = {};\n        return newDoc;\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getBoundingClientRect = function (el) { return { left: 0, top: 0, width: 0, height: 0 }; };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getTitle = function (doc) { return this.getText(this.getTitleNode(doc)) || ''; };\n    /**\n     * @param {?} doc\n     * @param {?} newTitle\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setTitle = function (doc, newTitle) {\n        this.setText(this.getTitleNode(doc), newTitle || '');\n    };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isTemplateElement = function (el) {\n        return this.isElementNode(el) && this.tagName(el) === 'template';\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isTextNode = function (node) { return treeAdapter.isTextNode(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isCommentNode = function (node) { return treeAdapter.isCommentNode(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isElementNode = function (node) { return node ? treeAdapter.isElementNode(node) : false; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.hasShadowRoot = function (node) { return node.shadowRoot != null; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.isShadowRoot = function (node) { return this.getShadowRoot(node) == node; };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.importIntoDoc = function (node) { return this.clone(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.adoptNode = function (node) { return node; };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getHref = function (el) { return this.getAttribute(el, 'href'); };\n    /**\n     * @param {?} el\n     * @param {?} baseUrl\n     * @param {?} href\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n        if (href == null) {\n            el.href = baseUrl;\n        }\n        else {\n            el.href = baseUrl + '/../' + href;\n        }\n    };\n    /**\n     * \\@internal\n     * @param {?} parsedRules\n     * @param {?=} css\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype._buildRules = function (parsedRules, css) {\n        var /** @type {?} */ rules = [];\n        for (var /** @type {?} */ i = 0; i < parsedRules.length; i++) {\n            var /** @type {?} */ parsedRule = parsedRules[i];\n            var /** @type {?} */ rule = {};\n            rule['cssText'] = css;\n            rule['style'] = { content: '', cssText: '' };\n            if (parsedRule.type == 'rule') {\n                rule['type'] = 1;\n                rule['selectorText'] =\n                    parsedRule.selectors.join(', '.replace(/\\s{2,}/g, ' ')\n                        .replace(/\\s*~\\s*/g, ' ~ ')\n                        .replace(/\\s*\\+\\s*/g, ' + ')\n                        .replace(/\\s*>\\s*/g, ' > ')\n                        .replace(/\\[(\\w+)=(\\w+)\\]/g, '[$1=\"$2\"]'));\n                if (parsedRule.declarations == null) {\n                    continue;\n                }\n                for (var /** @type {?} */ j = 0; j < parsedRule.declarations.length; j++) {\n                    var /** @type {?} */ declaration = parsedRule.declarations[j];\n                    rule['style'] = declaration.property[declaration.value];\n                    rule['style'].cssText += declaration.property + ': ' + declaration.value + ';';\n                }\n            }\n            else if (parsedRule.type == 'media') {\n                rule['type'] = 4;\n                rule['media'] = { mediaText: parsedRule.media };\n                if (parsedRule.rules) {\n                    rule['cssRules'] = this._buildRules(parsedRule.rules);\n                }\n            }\n            rules.push(rule);\n        }\n        return rules;\n    };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.supportsDOMEvents = function () { return false; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.supportsNativeShadowDOM = function () { return false; };\n    /**\n     * @param {?} doc\n     * @param {?} target\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getGlobalEventTarget = function (doc, target) {\n        if (target == 'window') {\n            return ((doc))._window;\n        }\n        else if (target == 'document') {\n            return doc;\n        }\n        else if (target == 'body') {\n            return doc.body;\n        }\n    };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getBaseHref = function (doc) {\n        var /** @type {?} */ base = this.querySelector(doc, 'base');\n        var /** @type {?} */ href = '';\n        if (base) {\n            href = this.getHref(base);\n        }\n        // TODO(alxhub): Need relative path logic from BrowserDomAdapter here?\n        return href == null ? null : href;\n    };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.resetBaseElement = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getHistory = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getLocation = function () { throw 'not implemented'; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getUserAgent = function () { return 'Fake user agent'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getData = function (el, name) { return this.getAttribute(el, 'data-' + name); };\n    /**\n     * @param {?} el\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getComputedStyle = function (el) { throw 'not implemented'; };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setData = function (el, name, value) { this.setAttribute(el, 'data-' + name, value); };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.supportsWebAnimation = function () { return false; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.performanceNow = function () { return Date.now(); };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getAnimationPrefix = function () { return ''; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getTransitionEnd = function () { return 'transitionend'; };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.supportsAnimation = function () { return true; };\n    /**\n     * @param {?} el\n     * @param {?} newNode\n     * @param {?} oldNode\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.replaceChild = function (el, newNode, oldNode) { throw new Error('not implemented'); };\n    /**\n     * @param {?} templateHtml\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.parse = function (templateHtml) { throw new Error('not implemented'); };\n    /**\n     * @param {?} el\n     * @param {?} methodName\n     * @param {?} args\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.invoke = function (el, methodName, args) { throw new Error('not implemented'); };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getEventKey = function (event) { throw new Error('not implemented'); };\n    /**\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.supportsCookies = function () { return false; };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getCookie = function (name) { throw new Error('not implemented'); };\n    /**\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.setCookie = function (name, value) { throw new Error('not implemented'); };\n    /**\n     * @param {?} element\n     * @param {?} keyframes\n     * @param {?} options\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.animate = function (element, keyframes, options) { throw new Error('not implemented'); };\n    /**\n     * @param {?} doc\n     * @return {?}\n     */\n    Parse5DomAdapter.prototype.getTitleNode = function (doc) {\n        var /** @type {?} */ title = this.querySelector(doc, 'title');\n        if (!title) {\n            title = (this.createElement('title'));\n            this.appendChild(this.querySelector(doc, 'head'), title);\n        }\n        return title;\n    };\n    return Parse5DomAdapter;\n}(_angular_platformBrowser.ɵDomAdapter));\n// TODO: build a proper list, this one is all the keys of a HTMLInputElement\nvar _HTMLElementPropertyList = [\n    'webkitEntries',\n    'incremental',\n    'webkitdirectory',\n    'selectionDirection',\n    'selectionEnd',\n    'selectionStart',\n    'labels',\n    'validationMessage',\n    'validity',\n    'willValidate',\n    'width',\n    'valueAsNumber',\n    'valueAsDate',\n    'value',\n    'useMap',\n    'defaultValue',\n    'type',\n    'step',\n    'src',\n    'size',\n    'required',\n    'readOnly',\n    'placeholder',\n    'pattern',\n    'name',\n    'multiple',\n    'min',\n    'minLength',\n    'maxLength',\n    'max',\n    'list',\n    'indeterminate',\n    'height',\n    'formTarget',\n    'formNoValidate',\n    'formMethod',\n    'formEnctype',\n    'formAction',\n    'files',\n    'form',\n    'disabled',\n    'dirName',\n    'checked',\n    'defaultChecked',\n    'autofocus',\n    'autocomplete',\n    'alt',\n    'align',\n    'accept',\n    'onautocompleteerror',\n    'onautocomplete',\n    'onwaiting',\n    'onvolumechange',\n    'ontoggle',\n    'ontimeupdate',\n    'onsuspend',\n    'onsubmit',\n    'onstalled',\n    'onshow',\n    'onselect',\n    'onseeking',\n    'onseeked',\n    'onscroll',\n    'onresize',\n    'onreset',\n    'onratechange',\n    'onprogress',\n    'onplaying',\n    'onplay',\n    'onpause',\n    'onmousewheel',\n    'onmouseup',\n    'onmouseover',\n    'onmouseout',\n    'onmousemove',\n    'onmouseleave',\n    'onmouseenter',\n    'onmousedown',\n    'onloadstart',\n    'onloadedmetadata',\n    'onloadeddata',\n    'onload',\n    'onkeyup',\n    'onkeypress',\n    'onkeydown',\n    'oninvalid',\n    'oninput',\n    'onfocus',\n    'onerror',\n    'onended',\n    'onemptied',\n    'ondurationchange',\n    'ondrop',\n    'ondragstart',\n    'ondragover',\n    'ondragleave',\n    'ondragenter',\n    'ondragend',\n    'ondrag',\n    'ondblclick',\n    'oncuechange',\n    'oncontextmenu',\n    'onclose',\n    'onclick',\n    'onchange',\n    'oncanplaythrough',\n    'oncanplay',\n    'oncancel',\n    'onblur',\n    'onabort',\n    'spellcheck',\n    'isContentEditable',\n    'contentEditable',\n    'outerText',\n    'innerText',\n    'accessKey',\n    'hidden',\n    'webkitdropzone',\n    'draggable',\n    'tabIndex',\n    'dir',\n    'translate',\n    'lang',\n    'title',\n    'childElementCount',\n    'lastElementChild',\n    'firstElementChild',\n    'children',\n    'onwebkitfullscreenerror',\n    'onwebkitfullscreenchange',\n    'nextElementSibling',\n    'previousElementSibling',\n    'onwheel',\n    'onselectstart',\n    'onsearch',\n    'onpaste',\n    'oncut',\n    'oncopy',\n    'onbeforepaste',\n    'onbeforecut',\n    'onbeforecopy',\n    'shadowRoot',\n    'dataset',\n    'classList',\n    'className',\n    'outerHTML',\n    'innerHTML',\n    'scrollHeight',\n    'scrollWidth',\n    'scrollTop',\n    'scrollLeft',\n    'clientHeight',\n    'clientWidth',\n    'clientTop',\n    'clientLeft',\n    'offsetParent',\n    'offsetHeight',\n    'offsetWidth',\n    'offsetTop',\n    'offsetLeft',\n    'localName',\n    'prefix',\n    'namespaceURI',\n    'id',\n    'style',\n    'attributes',\n    'tagName',\n    'parentElement',\n    'textContent',\n    'baseURI',\n    'ownerDocument',\n    'nextSibling',\n    'previousSibling',\n    'lastChild',\n    'firstChild',\n    'childNodes',\n    'parentNode',\n    'nodeType',\n    'nodeValue',\n    'nodeName',\n    'closure_lm_714617',\n    '__jsaction',\n];\n/**\n * @template T\n * @param {?} list\n * @param {?} el\n * @return {?}\n */\nfunction remove(list, el) {\n    var /** @type {?} */ index = list.indexOf(el);\n    if (index > -1) {\n        list.splice(index, 1);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar EMPTY_ARRAY = [];\nvar ServerRendererFactory2 = (function () {\n    /**\n     * @param {?} ngZone\n     * @param {?} document\n     * @param {?} sharedStylesHost\n     */\n    function ServerRendererFactory2(ngZone, document, sharedStylesHost) {\n        this.ngZone = ngZone;\n        this.document = document;\n        this.sharedStylesHost = sharedStylesHost;\n        this.rendererByCompId = new Map();\n        this.schema = new _angular_compiler.DomElementSchemaRegistry();\n        this.defaultRenderer = new DefaultServerRenderer2(document, ngZone, this.schema);\n    }\n    \n    /**\n     * @param {?} element\n     * @param {?} type\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.createRenderer = function (element, type) {\n        if (!element || !type) {\n            return this.defaultRenderer;\n        }\n        switch (type.encapsulation) {\n            case _angular_core.ViewEncapsulation.Native:\n            case _angular_core.ViewEncapsulation.Emulated: {\n                var /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n                if (!renderer) {\n                    renderer = new EmulatedEncapsulationServerRenderer2(this.document, this.ngZone, this.sharedStylesHost, this.schema, type);\n                    this.rendererByCompId.set(type.id, renderer);\n                }\n                ((renderer)).applyToHost(element);\n                return renderer;\n            }\n            case _angular_core.ViewEncapsulation.Native:\n                throw new Error('Native encapsulation is not supported on the server!');\n            default: {\n                if (!this.rendererByCompId.has(type.id)) {\n                    var /** @type {?} */ styles = _angular_platformBrowser.ɵflattenStyles(type.id, type.styles, []);\n                    this.sharedStylesHost.addStyles(styles);\n                    this.rendererByCompId.set(type.id, this.defaultRenderer);\n                }\n                return this.defaultRenderer;\n            }\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.begin = function () { };\n    /**\n     * @return {?}\n     */\n    ServerRendererFactory2.prototype.end = function () { };\n    return ServerRendererFactory2;\n}());\nServerRendererFactory2.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServerRendererFactory2.ctorParameters = function () { return [\n    { type: _angular_core.NgZone, },\n    { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n    { type: _angular_platformBrowser.ɵSharedStylesHost, },\n]; };\nvar DefaultServerRenderer2 = (function () {\n    /**\n     * @param {?} document\n     * @param {?} ngZone\n     * @param {?} schema\n     */\n    function DefaultServerRenderer2(document, ngZone, schema) {\n        this.document = document;\n        this.ngZone = ngZone;\n        this.schema = schema;\n        this.data = Object.create(null);\n    }\n    /**\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.destroy = function () { };\n    /**\n     * @param {?} name\n     * @param {?=} namespace\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createElement = function (name, namespace, debugInfo) {\n        if (namespace) {\n            return _angular_platformBrowser.ɵgetDOM().createElementNS(_angular_platformBrowser.ɵNAMESPACE_URIS[namespace], name);\n        }\n        return _angular_platformBrowser.ɵgetDOM().createElement(name);\n    };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createComment = function (value, debugInfo) { return _angular_platformBrowser.ɵgetDOM().createComment(value); };\n    /**\n     * @param {?} value\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.createText = function (value, debugInfo) { return _angular_platformBrowser.ɵgetDOM().createTextNode(value); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.appendChild = function (parent, newChild) { _angular_platformBrowser.ɵgetDOM().appendChild(parent, newChild); };\n    /**\n     * @param {?} parent\n     * @param {?} newChild\n     * @param {?} refChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n        if (parent) {\n            _angular_platformBrowser.ɵgetDOM().insertBefore(parent, refChild, newChild);\n        }\n    };\n    /**\n     * @param {?} parent\n     * @param {?} oldChild\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeChild = function (parent, oldChild) {\n        if (parent) {\n            _angular_platformBrowser.ɵgetDOM().removeChild(parent, oldChild);\n        }\n    };\n    /**\n     * @param {?} selectorOrNode\n     * @param {?=} debugInfo\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.selectRootElement = function (selectorOrNode, debugInfo) {\n        var /** @type {?} */ el;\n        if (typeof selectorOrNode === 'string') {\n            el = _angular_platformBrowser.ɵgetDOM().querySelector(this.document, selectorOrNode);\n            if (!el) {\n                throw new Error(\"The selector \\\"\" + selectorOrNode + \"\\\" did not match any elements\");\n            }\n        }\n        else {\n            el = selectorOrNode;\n        }\n        _angular_platformBrowser.ɵgetDOM().clearNodes(el);\n        return el;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.parentNode = function (node) { return _angular_platformBrowser.ɵgetDOM().parentElement(node); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.nextSibling = function (node) { return _angular_platformBrowser.ɵgetDOM().nextSibling(node); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n        if (namespace) {\n            _angular_platformBrowser.ɵgetDOM().setAttributeNS(el, _angular_platformBrowser.ɵNAMESPACE_URIS[namespace], namespace + ':' + name, value);\n        }\n        else {\n            _angular_platformBrowser.ɵgetDOM().setAttribute(el, name, value);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?=} namespace\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n        if (namespace) {\n            _angular_platformBrowser.ɵgetDOM().removeAttributeNS(el, _angular_platformBrowser.ɵNAMESPACE_URIS[namespace], name);\n        }\n        else {\n            _angular_platformBrowser.ɵgetDOM().removeAttribute(el, name);\n        }\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.addClass = function (el, name) { _angular_platformBrowser.ɵgetDOM().addClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeClass = function (el, name) { _angular_platformBrowser.ɵgetDOM().removeClass(el, name); };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} value\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setStyle = function (el, style, value, flags) {\n        _angular_platformBrowser.ɵgetDOM().setStyle(el, style, value);\n    };\n    /**\n     * @param {?} el\n     * @param {?} style\n     * @param {?} flags\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.removeStyle = function (el, style, flags) {\n        _angular_platformBrowser.ɵgetDOM().removeStyle(el, style);\n    };\n    /**\n     * @param {?} tagName\n     * @param {?} propertyName\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype._isSafeToReflectProperty = function (tagName, propertyName) {\n        return this.schema.securityContext(tagName, propertyName, true) ===\n            this.schema.securityContext(tagName, propertyName, false);\n    };\n    /**\n     * @param {?} el\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setProperty = function (el, name, value) {\n        checkNoSyntheticProp(name, 'property');\n        _angular_platformBrowser.ɵgetDOM().setProperty(el, name, value);\n        // Mirror property values for known HTML element properties in the attributes.\n        var /** @type {?} */ tagName = ((el.tagName)).toLowerCase();\n        if (value != null && (typeof value === 'number' || typeof value == 'string') &&\n            this.schema.hasElement(tagName, EMPTY_ARRAY) &&\n            this.schema.hasProperty(tagName, name, EMPTY_ARRAY) &&\n            this._isSafeToReflectProperty(tagName, name)) {\n            this.setAttribute(el, name, value.toString());\n        }\n    };\n    /**\n     * @param {?} node\n     * @param {?} value\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.setValue = function (node, value) { _angular_platformBrowser.ɵgetDOM().setText(node, value); };\n    /**\n     * @param {?} target\n     * @param {?} eventName\n     * @param {?} callback\n     * @return {?}\n     */\n    DefaultServerRenderer2.prototype.listen = function (target, eventName, callback) {\n        var _this = this;\n        // Note: We are not using the EventsPlugin here as this is not needed\n        // to run our tests.\n        checkNoSyntheticProp(eventName, 'listener');\n        var /** @type {?} */ el = typeof target === 'string' ? _angular_platformBrowser.ɵgetDOM().getGlobalEventTarget(this.document, target) : target;\n        var /** @type {?} */ outsideHandler = function (event) { return _this.ngZone.runGuarded(function () { return callback(event); }); };\n        return this.ngZone.runOutsideAngular(function () { /** @type {?} */ return (_angular_platformBrowser.ɵgetDOM().onAndCancel(el, eventName, outsideHandler)); });\n    };\n    return DefaultServerRenderer2;\n}());\nvar AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name, nameKind) {\n    if (name.charCodeAt(0) === AT_CHARCODE) {\n        throw new Error(\"Found the synthetic \" + nameKind + \" \" + name + \". Please include either \\\"BrowserAnimationsModule\\\" or \\\"NoopAnimationsModule\\\" in your application.\");\n    }\n}\nvar EmulatedEncapsulationServerRenderer2 = (function (_super) {\n    __extends(EmulatedEncapsulationServerRenderer2, _super);\n    /**\n     * @param {?} document\n     * @param {?} ngZone\n     * @param {?} sharedStylesHost\n     * @param {?} schema\n     * @param {?} component\n     */\n    function EmulatedEncapsulationServerRenderer2(document, ngZone, sharedStylesHost, schema, component) {\n        var _this = _super.call(this, document, ngZone, schema) || this;\n        _this.component = component;\n        var /** @type {?} */ styles = _angular_platformBrowser.ɵflattenStyles(component.id, component.styles, []);\n        sharedStylesHost.addStyles(styles);\n        _this.contentAttr = _angular_platformBrowser.ɵshimContentAttribute(component.id);\n        _this.hostAttr = _angular_platformBrowser.ɵshimHostAttribute(component.id);\n        return _this;\n    }\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.applyToHost = function (element) { _super.prototype.setAttribute.call(this, element, this.hostAttr, ''); };\n    /**\n     * @param {?} parent\n     * @param {?} name\n     * @return {?}\n     */\n    EmulatedEncapsulationServerRenderer2.prototype.createElement = function (parent, name) {\n        var /** @type {?} */ el = _super.prototype.createElement.call(this, parent, name);\n        _super.prototype.setAttribute.call(this, el, this.contentAttr, '');\n        return el;\n    };\n    return EmulatedEncapsulationServerRenderer2;\n}(DefaultServerRenderer2));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar ServerStylesHost = (function (_super) {\n    __extends(ServerStylesHost, _super);\n    /**\n     * @param {?} doc\n     * @param {?} transitionId\n     */\n    function ServerStylesHost(doc, transitionId) {\n        var _this = _super.call(this) || this;\n        _this.doc = doc;\n        _this.transitionId = transitionId;\n        _this.head = null;\n        _this.head = _angular_platformBrowser.ɵgetDOM().getElementsByTagName(doc, 'head')[0];\n        return _this;\n    }\n    /**\n     * @param {?} style\n     * @return {?}\n     */\n    ServerStylesHost.prototype._addStyle = function (style) {\n        var /** @type {?} */ adapter = (_angular_platformBrowser.ɵgetDOM());\n        var /** @type {?} */ el = adapter.createElement('style');\n        adapter.setText(el, style);\n        if (!!this.transitionId) {\n            adapter.setAttribute(el, 'ng-transition', this.transitionId);\n        }\n        adapter.appendChild(this.head, el);\n    };\n    /**\n     * @param {?} additions\n     * @return {?}\n     */\n    ServerStylesHost.prototype.onStylesAdded = function (additions) {\n        var _this = this;\n        additions.forEach(function (style) { return _this._addStyle(style); });\n    };\n    return ServerStylesHost;\n}(_angular_platformBrowser.ɵSharedStylesHost));\nServerStylesHost.decorators = [\n    { type: _angular_core.Injectable },\n];\n/** @nocollapse */\nServerStylesHost.ctorParameters = function () { return [\n    { type: undefined, decorators: [{ type: _angular_core.Inject, args: [_angular_platformBrowser.DOCUMENT,] },] },\n    { type: undefined, decorators: [{ type: _angular_core.Optional }, { type: _angular_core.Inject, args: [_angular_platformBrowser.ɵTRANSITION_ID,] },] },\n]; };\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar INTERNAL_SERVER_PLATFORM_PROVIDERS = [\n    { provide: _angular_platformBrowser.DOCUMENT, useFactory: _document, deps: [_angular_core.Injector] },\n    { provide: _angular_core.PLATFORM_ID, useValue: _angular_common.ɵPLATFORM_SERVER_ID },\n    { provide: _angular_core.PLATFORM_INITIALIZER, useFactory: initParse5Adapter, multi: true, deps: [_angular_core.Injector] }, {\n        provide: _angular_common.PlatformLocation,\n        useClass: ServerPlatformLocation,\n        deps: [_angular_platformBrowser.DOCUMENT, [_angular_core.Optional, INITIAL_CONFIG]]\n    },\n    { provide: PlatformState, deps: [_angular_platformBrowser.DOCUMENT] },\n    // Add special provider that allows multiple instances of platformServer* to be created.\n    { provide: _angular_core.ɵALLOW_MULTIPLE_PLATFORMS, useValue: true }\n];\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction initParse5Adapter(injector) {\n    return function () { Parse5DomAdapter.makeCurrent(); };\n}\n/**\n * @param {?} renderer\n * @param {?} engine\n * @param {?} zone\n * @return {?}\n */\nfunction instantiateServerRendererFactory(renderer, engine, zone) {\n    return new _angular_platformBrowser_animations.ɵAnimationRendererFactory(renderer, engine, zone);\n}\nvar SERVER_RENDER_PROVIDERS = [\n    ServerRendererFactory2,\n    {\n        provide: _angular_core.RendererFactory2,\n        useFactory: instantiateServerRendererFactory,\n        deps: [ServerRendererFactory2, _angular_animations_browser.ɵAnimationEngine, _angular_core.NgZone]\n    },\n    ServerStylesHost,\n    { provide: _angular_platformBrowser.ɵSharedStylesHost, useExisting: ServerStylesHost },\n];\n/**\n * The ng module for the server.\n *\n * \\@experimental\n */\nvar ServerModule = (function () {\n    function ServerModule() {\n    }\n    return ServerModule;\n}());\nServerModule.decorators = [\n    { type: _angular_core.NgModule, args: [{\n                exports: [_angular_platformBrowser.BrowserModule],\n                imports: [_angular_http.HttpModule, _angular_common_http.HttpClientModule, _angular_platformBrowser_animations.NoopAnimationsModule],\n                providers: [\n                    SERVER_RENDER_PROVIDERS,\n                    SERVER_HTTP_PROVIDERS,\n                    { provide: _angular_core.Testability, useValue: null },\n                ],\n            },] },\n];\n/** @nocollapse */\nServerModule.ctorParameters = function () { return []; };\n/**\n * @param {?} injector\n * @return {?}\n */\nfunction _document(injector) {\n    var /** @type {?} */ config = injector.get(INITIAL_CONFIG, null);\n    if (config && config.document) {\n        return parseDocument(config.document);\n    }\n    else {\n        return _angular_platformBrowser.ɵgetDOM().createHtmlDocument();\n    }\n}\n/**\n * \\@experimental\n */\nvar platformServer = _angular_core.createPlatformFactory(_angular_core.platformCore, 'server', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n/**\n * The server platform that supports the runtime compiler.\n *\n * \\@experimental\n */\nvar platformDynamicServer = _angular_core.createPlatformFactory(_angular_compiler.platformCoreDynamic, 'serverDynamic', INTERNAL_SERVER_PLATFORM_PROVIDERS);\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar parse5$2 = require('parse5');\n/**\n * @param {?} platformFactory\n * @param {?} options\n * @return {?}\n */\nfunction _getPlatform(platformFactory, options) {\n    var /** @type {?} */ extraProviders = options.extraProviders ? options.extraProviders : [];\n    return platformFactory([\n        { provide: INITIAL_CONFIG, useValue: { document: options.document, url: options.url } },\n        extraProviders\n    ]);\n}\n/**\n * @template T\n * @param {?} platform\n * @param {?} moduleRefPromise\n * @return {?}\n */\nfunction _render(platform, moduleRefPromise) {\n    return moduleRefPromise.then(function (moduleRef) {\n        var /** @type {?} */ transitionId = moduleRef.injector.get(_angular_platformBrowser.ɵTRANSITION_ID, null);\n        if (!transitionId) {\n            throw new Error(\"renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\\nthe server-rendered app can be properly bootstrapped into a client app.\");\n        }\n        var /** @type {?} */ applicationRef = moduleRef.injector.get(_angular_core.ApplicationRef);\n        return rxjs_operator_toPromise.toPromise\n            .call(rxjs_operator_first.first.call(rxjs_operator_filter.filter.call(applicationRef.isStable, function (isStable) { return isStable; })))\n            .then(function () {\n            var /** @type {?} */ output = platform.injector.get(PlatformState).renderToString();\n            platform.destroy();\n            return output;\n        });\n    });\n}\n/**\n * Renders a Module to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * Do not use this in a production server environment. Use pre-compiled {\\@link NgModuleFactory} with\n * {\\@link renderModuleFactory} instead.\n *\n * \\@experimental\n * @template T\n * @param {?} module\n * @param {?} options\n * @return {?}\n */\nfunction renderModule(module, options) {\n    var /** @type {?} */ platform = _getPlatform(platformDynamicServer, options);\n    return _render(platform, platform.bootstrapModule(module));\n}\n/**\n * Renders a {\\@link NgModuleFactory} to string.\n *\n * `document` is the full document HTML of the page to render, as a string.\n * `url` is the URL for the current render request.\n * `extraProviders` are the platform level providers for the current render request.\n *\n * \\@experimental\n * @template T\n * @param {?} moduleFactory\n * @param {?} options\n * @return {?}\n */\nfunction renderModuleFactory(moduleFactory, options) {\n    var /** @type {?} */ platform = _getPlatform(platformServer, options);\n    return _render(platform, platform.bootstrapModuleFactory(moduleFactory));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n/**\n * \\@stable\n */\nvar VERSION = new _angular_core.Version('5.0.0-beta.3-14502f5b34');\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\n\nexports.PlatformState = PlatformState;\nexports.ServerModule = ServerModule;\nexports.platformDynamicServer = platformDynamicServer;\nexports.platformServer = platformServer;\nexports.INITIAL_CONFIG = INITIAL_CONFIG;\nexports.PlatformConfig = PlatformConfig;\nexports.renderModule = renderModule;\nexports.renderModuleFactory = renderModuleFactory;\nexports.VERSION = VERSION;\nexports.ɵINTERNAL_SERVER_PLATFORM_PROVIDERS = INTERNAL_SERVER_PLATFORM_PROVIDERS;\nexports.ɵSERVER_RENDER_PROVIDERS = SERVER_RENDER_PROVIDERS;\nexports.ɵServerRendererFactory2 = ServerRendererFactory2;\nexports.ɵg = SERVER_HTTP_PROVIDERS;\nexports.ɵc = ServerXhr;\nexports.ɵd = ServerXsrfStrategy;\nexports.ɵe = httpFactory;\nexports.ɵf = zoneWrappedInterceptingHandler;\nexports.ɵa = instantiateServerRendererFactory;\nexports.ɵb = ServerStylesHost;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=platform-server.umd.js.map\n"]}