{"version":3,"sources":["../../../../../../packages/compiler/src/template_parser/template_preparser.ts"],"names":[],"mappings":"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","file":"template_preparser.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport * as html from '../ml_parser/ast';\nimport {isNgContent} from '../ml_parser/tags';\n\nconst /** @type {?} */ NG_CONTENT_SELECT_ATTR = 'select';\nconst /** @type {?} */ LINK_ELEMENT = 'link';\nconst /** @type {?} */ LINK_STYLE_REL_ATTR = 'rel';\nconst /** @type {?} */ LINK_STYLE_HREF_ATTR = 'href';\nconst /** @type {?} */ LINK_STYLE_REL_VALUE = 'stylesheet';\nconst /** @type {?} */ STYLE_ELEMENT = 'style';\nconst /** @type {?} */ SCRIPT_ELEMENT = 'script';\nconst /** @type {?} */ NG_NON_BINDABLE_ATTR = 'ngNonBindable';\nconst /** @type {?} */ NG_PROJECT_AS = 'ngProjectAs';\n/**\n * @param {?} ast\n * @return {?}\n */\nexport function preparseElement(ast: html.Element): PreparsedElement {\n  let /** @type {?} */ selectAttr: string = /** @type {?} */(( null));\n  let /** @type {?} */ hrefAttr: string = /** @type {?} */(( null));\n  let /** @type {?} */ relAttr: string = /** @type {?} */(( null));\n  let /** @type {?} */ nonBindable = false;\n  let /** @type {?} */ projectAs: string = /** @type {?} */(( null));\n  ast.attrs.forEach(attr => {\n    const /** @type {?} */ lcAttrName = attr.name.toLowerCase();\n    if (lcAttrName == NG_CONTENT_SELECT_ATTR) {\n      selectAttr = attr.value;\n    } else if (lcAttrName == LINK_STYLE_HREF_ATTR) {\n      hrefAttr = attr.value;\n    } else if (lcAttrName == LINK_STYLE_REL_ATTR) {\n      relAttr = attr.value;\n    } else if (attr.name == NG_NON_BINDABLE_ATTR) {\n      nonBindable = true;\n    } else if (attr.name == NG_PROJECT_AS) {\n      if (attr.value.length > 0) {\n        projectAs = attr.value;\n      }\n    }\n  });\n  selectAttr = normalizeNgContentSelect(selectAttr);\n  const /** @type {?} */ nodeName = ast.name.toLowerCase();\n  let /** @type {?} */ type = PreparsedElementType.OTHER;\n  if (isNgContent(nodeName)) {\n    type = PreparsedElementType.NG_CONTENT;\n  } else if (nodeName == STYLE_ELEMENT) {\n    type = PreparsedElementType.STYLE;\n  } else if (nodeName == SCRIPT_ELEMENT) {\n    type = PreparsedElementType.SCRIPT;\n  } else if (nodeName == LINK_ELEMENT && relAttr == LINK_STYLE_REL_VALUE) {\n    type = PreparsedElementType.STYLESHEET;\n  }\n  return new PreparsedElement(type, selectAttr, hrefAttr, nonBindable, projectAs);\n}\nexport type PreparsedElementType = number;\nexport let PreparsedElementType: any = {};\nPreparsedElementType.NG_CONTENT = 0;\nPreparsedElementType.STYLE = 1;\nPreparsedElementType.STYLESHEET = 2;\nPreparsedElementType.SCRIPT = 3;\nPreparsedElementType.OTHER = 4;\nPreparsedElementType[PreparsedElementType.NG_CONTENT] = \"NG_CONTENT\";\nPreparsedElementType[PreparsedElementType.STYLE] = \"STYLE\";\nPreparsedElementType[PreparsedElementType.STYLESHEET] = \"STYLESHEET\";\nPreparsedElementType[PreparsedElementType.SCRIPT] = \"SCRIPT\";\nPreparsedElementType[PreparsedElementType.OTHER] = \"OTHER\";\n\nexport class PreparsedElement {\n/**\n * @param {?} type\n * @param {?} selectAttr\n * @param {?} hrefAttr\n * @param {?} nonBindable\n * @param {?} projectAs\n */\nconstructor(\npublic type: PreparsedElementType,\npublic selectAttr: string,\npublic hrefAttr: string,\npublic nonBindable: boolean,\npublic projectAs: string) {}\n}\n\nfunction PreparsedElement_tsickle_Closure_declarations() {\n/** @type {?} */\nPreparsedElement.prototype.type;\n/** @type {?} */\nPreparsedElement.prototype.selectAttr;\n/** @type {?} */\nPreparsedElement.prototype.hrefAttr;\n/** @type {?} */\nPreparsedElement.prototype.nonBindable;\n/** @type {?} */\nPreparsedElement.prototype.projectAs;\n}\n\n/**\n * @param {?} selectAttr\n * @return {?}\n */\nfunction normalizeNgContentSelect(selectAttr: string): string {\n  if (selectAttr === null || selectAttr.length === 0) {\n    return '*';\n  }\n  return selectAttr;\n}\n"]}