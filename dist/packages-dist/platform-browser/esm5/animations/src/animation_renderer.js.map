{"version":3,"sources":["../../../../../../packages/platform-browser/animations/src/animation_renderer.ts"],"names":[],"mappings":"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","file":"animation_renderer.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {AnimationTriggerMetadata} from '@angular/animations';\nimport {ɵAnimationEngine as AnimationEngine} from '@angular/animations/browser';\nimport {Injectable, NgZone, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2} from '@angular/core';\n\nconst /** @type {?} */ ANIMATION_PREFIX = '@';\nconst /** @type {?} */ DISABLE_ANIMATIONS_FLAG = '@.disabled';\nexport class AnimationRendererFactory implements RendererFactory2 {\nprivate _currentId: number = 0;\nprivate _microtaskId: number = 1;\nprivate _animationCallbacksBuffer: [(e: any) => any, any][] = [];\nprivate _rendererCache = new Map<Renderer2, BaseAnimationRenderer>();\nprivate _cdRecurDepth = 0;\n/**\n * @param {?} delegate\n * @param {?} engine\n * @param {?} _zone\n */\nconstructor(\nprivate delegate: RendererFactory2,\nprivate engine: AnimationEngine,\nprivate _zone: NgZone) {\n    engine.onRemovalComplete = (element: any, delegate: Renderer2) => {\n      // Note: if an component element has a leave animation, and the component\n      // a host leave animation, the view engine will call `removeChild` for the parent\n      // component renderer as well as for the child component renderer.\n      // Therefore, we need to check if we already removed the element.\n      if (delegate && delegate.parentNode(element)) {\n        delegate.removeChild(element.parentNode, element);\n      }\n    };\n  }\n/**\n * @param {?} hostElement\n * @param {?} type\n * @return {?}\n */\ncreateRenderer(hostElement: any, type: RendererType2): Renderer2 {\n    const /** @type {?} */ EMPTY_NAMESPACE_ID = '';\n\n    // cache the delegates to find out which cached delegate can\n    // be used by which cached renderer\n    const /** @type {?} */ delegate = this.delegate.createRenderer(hostElement, type);\n    if (!hostElement || !type || !type.data || !type.data['animation']) {\n      let /** @type {?} */ renderer: BaseAnimationRenderer|undefined = this._rendererCache.get(delegate);\n      if (!renderer) {\n        renderer = new BaseAnimationRenderer(EMPTY_NAMESPACE_ID, delegate, this.engine);\n        // only cache this result when the base renderer is used\n        this._rendererCache.set(delegate, renderer);\n      }\n      return renderer;\n    }\n\n    const /** @type {?} */ componentId = type.id;\n    const /** @type {?} */ namespaceId = type.id + '-' + this._currentId;\n    this._currentId++;\n\n    this.engine.register(namespaceId, hostElement);\n    const /** @type {?} */ animationTriggers = /** @type {?} */(( type.data['animation'] as AnimationTriggerMetadata[]));\n    animationTriggers.forEach(\n        trigger => this.engine.registerTrigger(\n            componentId, namespaceId, hostElement, trigger.name, trigger));\n    return new AnimationRenderer(this, namespaceId, delegate, this.engine);\n  }\n/**\n * @return {?}\n */\nbegin() {\n    this._cdRecurDepth++;\n    if (this.delegate.begin) {\n      this.delegate.begin();\n    }\n  }\n/**\n * @return {?}\n */\n\nprivate _scheduleCountTask() {\n    Zone.current.scheduleMicroTask('incremenet the animation microtask', () => this._microtaskId++);\n  }\n/**\n * @param {?} count\n * @param {?} fn\n * @param {?} data\n * @return {?}\n */\nscheduleListenerCallback(count: number, fn: (e: any) => any, data: any) {\n    if (count >= 0 && count < this._microtaskId) {\n      this._zone.run(() => fn(data));\n      return;\n    }\n\n    if (this._animationCallbacksBuffer.length == 0) {\n      Promise.resolve(null).then(() => {\n        this._zone.run(() => {\n          this._animationCallbacksBuffer.forEach(tuple => {\n            const [fn, data] = tuple;\n            fn(data);\n          });\n          this._animationCallbacksBuffer = [];\n        });\n      });\n    }\n\n    this._animationCallbacksBuffer.push([fn, data]);\n  }\n/**\n * @return {?}\n */\nend() {\n    this._cdRecurDepth--;\n\n    // this is to prevent animations from running twice when an inner\n    // component does CD when a parent component insted has inserted it\n    if (this._cdRecurDepth == 0) {\n      this._zone.runOutsideAngular(() => {\n        this._scheduleCountTask();\n        this.engine.flush(this._microtaskId);\n      });\n    }\n    if (this.delegate.end) {\n      this.delegate.end();\n    }\n  }\n/**\n * @return {?}\n */\nwhenRenderingDone(): Promise<any> { return this.engine.whenRenderingDone(); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: RendererFactory2, },\n{type: AnimationEngine, },\n{type: NgZone, },\n];\n}\n\nfunction AnimationRendererFactory_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationRendererFactory.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAnimationRendererFactory.ctorParameters;\n/** @type {?} */\nAnimationRendererFactory.prototype._currentId;\n/** @type {?} */\nAnimationRendererFactory.prototype._microtaskId;\n/** @type {?} */\nAnimationRendererFactory.prototype._animationCallbacksBuffer;\n/** @type {?} */\nAnimationRendererFactory.prototype._rendererCache;\n/** @type {?} */\nAnimationRendererFactory.prototype._cdRecurDepth;\n/** @type {?} */\nAnimationRendererFactory.prototype.delegate;\n/** @type {?} */\nAnimationRendererFactory.prototype.engine;\n/** @type {?} */\nAnimationRendererFactory.prototype._zone;\n}\n\nexport class BaseAnimationRenderer implements Renderer2 {\n/**\n * @param {?} namespaceId\n * @param {?} delegate\n * @param {?} engine\n */\nconstructor(\n      protected namespaceId: string,\npublic delegate: Renderer2,\npublic engine: AnimationEngine) {\n    this.destroyNode = this.delegate.destroyNode ? (n) => /** @type {?} */(( delegate.destroyNode))(n) : null;\n  }\n/**\n * @return {?}\n */\nget data() { return this.delegate.data; }\n\n  destroyNode: ((n: any) => void)|null;\n/**\n * @return {?}\n */\ndestroy(): void {\n    this.engine.destroy(this.namespaceId, this.delegate);\n    this.delegate.destroy();\n  }\n/**\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\ncreateElement(name: string, namespace?: string|null|undefined) {\n    return this.delegate.createElement(name, namespace);\n  }\n/**\n * @param {?} value\n * @return {?}\n */\ncreateComment(value: string) { return this.delegate.createComment(value); }\n/**\n * @param {?} value\n * @return {?}\n */\ncreateText(value: string) { return this.delegate.createText(value); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void {\n    this.delegate.appendChild(parent, newChild);\n    this.engine.onInsert(this.namespaceId, newChild, parent, false);\n  }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    this.delegate.insertBefore(parent, newChild, refChild);\n    this.engine.onInsert(this.namespaceId, newChild, parent, true);\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    this.engine.onRemove(this.namespaceId, oldChild, this.delegate);\n  }\n/**\n * @param {?} selectorOrNode\n * @return {?}\n */\nselectRootElement(selectorOrNode: any) { return this.delegate.selectRootElement(selectorOrNode); }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any) { return this.delegate.parentNode(node); }\n/**\n * @param {?} node\n * @return {?}\n */\nnextSibling(node: any) { return this.delegate.nextSibling(node); }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @param {?=} namespace\n * @return {?}\n */\nsetAttribute(el: any, name: string, value: string, namespace?: string|null|undefined): void {\n    this.delegate.setAttribute(el, name, value, namespace);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\nremoveAttribute(el: any, name: string, namespace?: string|null|undefined): void {\n    this.delegate.removeAttribute(el, name, namespace);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\naddClass(el: any, name: string): void { this.delegate.addClass(el, name); }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nremoveClass(el: any, name: string): void { this.delegate.removeClass(el, name); }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} value\n * @param {?=} flags\n * @return {?}\n */\nsetStyle(el: any, style: string, value: any, flags?: RendererStyleFlags2|undefined): void {\n    this.delegate.setStyle(el, style, value, flags);\n  }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?=} flags\n * @return {?}\n */\nremoveStyle(el: any, style: string, flags?: RendererStyleFlags2|undefined): void {\n    this.delegate.removeStyle(el, style, flags);\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    if (name.charAt(0) == ANIMATION_PREFIX && name == DISABLE_ANIMATIONS_FLAG) {\n      this.disableAnimations(el, !!value);\n    } else {\n      this.delegate.setProperty(el, name, value);\n    }\n  }\n/**\n * @param {?} node\n * @param {?} value\n * @return {?}\n */\nsetValue(node: any, value: string): void { this.delegate.setValue(node, value); }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\nlisten(target: any, eventName: string, callback: (event: any) => boolean | void): () => void {\n    return this.delegate.listen(target, eventName, callback);\n  }\n/**\n * @param {?} element\n * @param {?} value\n * @return {?}\n */\nprotected disableAnimations(element: any, value: boolean) {\n    this.engine.disableAnimations(element, value);\n  }\n}\n\nfunction BaseAnimationRenderer_tsickle_Closure_declarations() {\n/** @type {?} */\nBaseAnimationRenderer.prototype.destroyNode;\n/** @type {?} */\nBaseAnimationRenderer.prototype.namespaceId;\n/** @type {?} */\nBaseAnimationRenderer.prototype.delegate;\n/** @type {?} */\nBaseAnimationRenderer.prototype.engine;\n}\n\nexport class AnimationRenderer extends BaseAnimationRenderer implements Renderer2 {\n/**\n * @param {?} factory\n * @param {?} namespaceId\n * @param {?} delegate\n * @param {?} engine\n */\nconstructor(\npublic factory: AnimationRendererFactory, namespaceId: string, delegate: Renderer2,\n      engine: AnimationEngine) {\n    super(namespaceId, delegate, engine);\n    this.namespaceId = namespaceId;\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    if (name.charAt(0) == ANIMATION_PREFIX) {\n      if (name.charAt(1) == '.' && name == DISABLE_ANIMATIONS_FLAG) {\n        this.disableAnimations(el, !!value);\n      } else {\n        this.engine.process(this.namespaceId, el, name.substr(1), value);\n      }\n    } else {\n      this.delegate.setProperty(el, name, value);\n    }\n  }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\nlisten(target: 'window'|'document'|'body'|any, eventName: string, callback: (event: any) => any):\n      () => void {\n    if (eventName.charAt(0) == ANIMATION_PREFIX) {\n      const /** @type {?} */ element = resolveElementFromTarget(target);\n      let /** @type {?} */ name = eventName.substr(1);\n      let /** @type {?} */ phase = '';\n      // @listener.phase is for trigger animation callbacks\n      // @@listener is for animation builder callbacks\n      if (name.charAt(0) != ANIMATION_PREFIX) {\n        [name, phase] = parseTriggerCallbackName(name);\n      }\n      return this.engine.listen(this.namespaceId, element, name, phase, event => {\n        const /** @type {?} */ countId = ( /** @type {?} */((event as any)))['_data'] || -1;\n        this.factory.scheduleListenerCallback(countId, callback, event);\n      });\n    }\n    return this.delegate.listen(target, eventName, callback);\n  }\n}\n\nfunction AnimationRenderer_tsickle_Closure_declarations() {\n/** @type {?} */\nAnimationRenderer.prototype.factory;\n}\n\n/**\n * @param {?} target\n * @return {?}\n */\nfunction resolveElementFromTarget(target: 'window' | 'document' | 'body' | any): any {\n  switch (target) {\n    case 'body':\n      return document.body;\n    case 'document':\n      return document;\n    case 'window':\n      return window;\n    default:\n      return target;\n  }\n}\n/**\n * @param {?} triggerName\n * @return {?}\n */\nfunction parseTriggerCallbackName(triggerName: string) {\n  const /** @type {?} */ dotIndex = triggerName.indexOf('.');\n  const /** @type {?} */ trigger = triggerName.substring(0, dotIndex);\n  const /** @type {?} */ phase = triggerName.substr(dotIndex + 1);\n  return [trigger, phase];\n}\n"]}