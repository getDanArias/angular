{"version":3,"sources":["../../../../../../packages/platform-browser/animations/src/animation_builder.ts"],"names":[],"mappings":"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","file":"animation_builder.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {AnimationBuilder, AnimationFactory, AnimationMetadata, AnimationOptions, AnimationPlayer, NoopAnimationPlayer, sequence} from '@angular/animations';\nimport {Injectable, RendererFactory2, RendererType2, ViewEncapsulation} from '@angular/core';\n\nimport {AnimationRenderer} from './animation_renderer';\nexport class BrowserAnimationBuilder extends AnimationBuilder {\nprivate _nextAnimationId = 0;\nprivate _renderer: AnimationRenderer;\n/**\n * @param {?} rootRenderer\n */\nconstructor(rootRenderer: RendererFactory2) {\n    super();\n    const /** @type {?} */ typeData = /** @type {?} */(( {\n      id: '0',\n      encapsulation: ViewEncapsulation.None,\n      styles: [],\n      data: {animation: []}\n    } as RendererType2));\n    this._renderer = /** @type {?} */(( rootRenderer.createRenderer(document.body, typeData) as AnimationRenderer));\n  }\n/**\n * @param {?} animation\n * @return {?}\n */\nbuild(animation: AnimationMetadata|AnimationMetadata[]): AnimationFactory {\n    const /** @type {?} */ id = this._nextAnimationId.toString();\n    this._nextAnimationId++;\n    const /** @type {?} */ entry = Array.isArray(animation) ? sequence(animation) : animation;\n    issueAnimationCommand(this._renderer, null, id, 'register', [entry]);\n    return new BrowserAnimationFactory(id, this._renderer);\n  }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: RendererFactory2, },\n];\n}\n\nfunction BrowserAnimationBuilder_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserAnimationBuilder.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBrowserAnimationBuilder.ctorParameters;\n/** @type {?} */\nBrowserAnimationBuilder.prototype._nextAnimationId;\n/** @type {?} */\nBrowserAnimationBuilder.prototype._renderer;\n}\n\nexport class BrowserAnimationFactory extends AnimationFactory {\n/**\n * @param {?} _id\n * @param {?} _renderer\n */\nconstructor(private _id: string,\nprivate _renderer: AnimationRenderer) { super(); }\n/**\n * @param {?} element\n * @param {?=} options\n * @return {?}\n */\ncreate(element: any, options?: AnimationOptions): AnimationPlayer {\n    return new RendererAnimationPlayer(this._id, element, options || {}, this._renderer);\n  }\n}\n\nfunction BrowserAnimationFactory_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserAnimationFactory.prototype._id;\n/** @type {?} */\nBrowserAnimationFactory.prototype._renderer;\n}\n\nexport class RendererAnimationPlayer implements AnimationPlayer {\npublic parentPlayer: AnimationPlayer|null = null;\nprivate _started = false;\n/**\n * @param {?} id\n * @param {?} element\n * @param {?} options\n * @param {?} _renderer\n */\nconstructor(\npublic id: string,\npublic element: any, options: AnimationOptions,\nprivate _renderer: AnimationRenderer) {\n    this._command('create', options);\n  }\n/**\n * @param {?} eventName\n * @param {?} callback\n * @return {?}\n */\n\nprivate _listen(eventName: string, callback: (event: any) => any): () => void {\n    return this._renderer.listen(this.element, `@@${this.id}:${eventName}`, callback);\n  }\n/**\n * @param {?} command\n * @param {...?} args\n * @return {?}\n */\n\nprivate _command(command: string, ...args: any[]) {\n    return issueAnimationCommand(this._renderer, this.element, this.id, command, args);\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDone(fn: () => void): void { this._listen('done', fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonStart(fn: () => void): void { this._listen('start', fn); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonDestroy(fn: () => void): void { this._listen('destroy', fn); }\n/**\n * @return {?}\n */\ninit(): void { this._command('init'); }\n/**\n * @return {?}\n */\nhasStarted(): boolean { return this._started; }\n/**\n * @return {?}\n */\nplay(): void {\n    this._command('play');\n    this._started = true;\n  }\n/**\n * @return {?}\n */\npause(): void { this._command('pause'); }\n/**\n * @return {?}\n */\nrestart(): void { this._command('restart'); }\n/**\n * @return {?}\n */\nfinish(): void { this._command('finish'); }\n/**\n * @return {?}\n */\ndestroy(): void { this._command('destroy'); }\n/**\n * @return {?}\n */\nreset(): void { this._command('reset'); }\n/**\n * @param {?} p\n * @return {?}\n */\nsetPosition(p: number): void { this._command('setPosition', p); }\n/**\n * @return {?}\n */\ngetPosition(): number { return 0; }\npublic totalTime = 0;\n}\n\nfunction RendererAnimationPlayer_tsickle_Closure_declarations() {\n/** @type {?} */\nRendererAnimationPlayer.prototype.parentPlayer;\n/** @type {?} */\nRendererAnimationPlayer.prototype._started;\n/** @type {?} */\nRendererAnimationPlayer.prototype.totalTime;\n/** @type {?} */\nRendererAnimationPlayer.prototype.id;\n/** @type {?} */\nRendererAnimationPlayer.prototype.element;\n/** @type {?} */\nRendererAnimationPlayer.prototype._renderer;\n}\n\n/**\n * @param {?} renderer\n * @param {?} element\n * @param {?} id\n * @param {?} command\n * @param {?} args\n * @return {?}\n */\nfunction issueAnimationCommand(\n    renderer: AnimationRenderer, element: any, id: string, command: string, args: any[]): any {\n  return renderer.setProperty(element, `@@${id}:${command}`, args);\n}\n"]}