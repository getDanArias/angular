{"version":3,"sources":["../../../../../../packages/platform-browser/testing/src/browser_util.ts"],"names":[],"mappings":"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","file":"browser_util.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {NgZone, ɵglobal as global} from '@angular/core';\nimport {ɵgetDOM as getDOM} from '@angular/platform-browser';\n\nexport let /** @type {?} */ browserDetection: BrowserDetection;\nexport class BrowserDetection {\nprivate _overrideUa: string|null;\n/**\n * @return {?}\n */\n\nprivate get _ua(): string {\n    if (typeof this._overrideUa === 'string') {\n      return this._overrideUa;\n    }\n\n    return getDOM() ? getDOM().getUserAgent() : '';\n  }\n/**\n * @return {?}\n */\nstatic setup() { browserDetection = new BrowserDetection(null); }\n/**\n * @param {?} ua\n */\nconstructor(ua: string|null) { this._overrideUa = ua; }\n/**\n * @return {?}\n */\nget isFirefox(): boolean { return this._ua.indexOf('Firefox') > -1; }\n/**\n * @return {?}\n */\nget isAndroid(): boolean {\n    return this._ua.indexOf('Mozilla/5.0') > -1 && this._ua.indexOf('Android') > -1 &&\n        this._ua.indexOf('AppleWebKit') > -1 && this._ua.indexOf('Chrome') == -1 &&\n        this._ua.indexOf('IEMobile') == -1;\n  }\n/**\n * @return {?}\n */\nget isEdge(): boolean { return this._ua.indexOf('Edge') > -1; }\n/**\n * @return {?}\n */\nget isIE(): boolean { return this._ua.indexOf('Trident') > -1; }\n/**\n * @return {?}\n */\nget isWebkit(): boolean {\n    return this._ua.indexOf('AppleWebKit') > -1 && this._ua.indexOf('Edge') == -1 &&\n        this._ua.indexOf('IEMobile') == -1;\n  }\n/**\n * @return {?}\n */\nget isIOS7(): boolean {\n    return (this._ua.indexOf('iPhone OS 7') > -1 || this._ua.indexOf('iPad OS 7') > -1) &&\n        this._ua.indexOf('IEMobile') == -1;\n  }\n/**\n * @return {?}\n */\nget isSlow(): boolean { return this.isAndroid || this.isIE || this.isIOS7; }\n/**\n * @return {?}\n */\nget supportsNativeIntlApi(): boolean {\n    return !!( /** @type {?} */((<any>global))).Intl && ( /** @type {?} */((<any>global))).Intl !== ( /** @type {?} */((<any>global))).IntlPolyfill;\n  }\n/**\n * @return {?}\n */\nget isChromeDesktop(): boolean {\n    return this._ua.indexOf('Chrome') > -1 && this._ua.indexOf('Mobile Safari') == -1 &&\n        this._ua.indexOf('Edge') == -1;\n  }\n/**\n * @return {?}\n */\nget isOldChrome(): boolean {\n    return this._ua.indexOf('Chrome') > -1 && this._ua.indexOf('Chrome/3') > -1 &&\n        this._ua.indexOf('Edge') == -1;\n  }\n}\n\nfunction BrowserDetection_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserDetection.prototype._overrideUa;\n}\n\n\nBrowserDetection.setup();\n/**\n * @param {?} element\n * @param {?} eventType\n * @return {?}\n */\nexport function dispatchEvent(element: any, eventType: any): void {\n  getDOM().dispatchEvent(element, getDOM().createEvent(eventType));\n}\n/**\n * @param {?} html\n * @return {?}\n */\nexport function el(html: string): HTMLElement {\n  return /** @type {?} */(( <HTMLElement>getDOM().firstChild(getDOM().content(getDOM().createTemplate(html)))));\n}\n/**\n * @param {?} css\n * @return {?}\n */\nexport function normalizeCSS(css: string): string {\n  return css.replace(/\\s+/g, ' ')\n      .replace(/:\\s/g, ':')\n      .replace(/'/g, '\"')\n      .replace(/ }/g, '}')\n      .replace(/url\\((\\\"|\\s)(.+)(\\\"|\\s)\\)(\\s*)/g, (...match: string[]) => `url(\"${match[2]}\")`)\n      .replace(/\\[(.+)=([^\"\\]]+)\\]/g, (...match: string[]) => `[${match[1]}=\"${match[2]}\"]`);\n}\n\nconst /** @type {?} */ _singleTagWhitelist = ['br', 'hr', 'input'];\n/**\n * @param {?} el\n * @return {?}\n */\nexport function stringifyElement(el: any /** TODO #9100 */): string {\n  let /** @type {?} */ result = '';\n  if (getDOM().isElementNode(el)) {\n    const /** @type {?} */ tagName = getDOM().tagName(el).toLowerCase();\n\n    // Opening tag\n    result += `<${tagName}`;\n\n    // Attributes in an ordered way\n    const /** @type {?} */ attributeMap = getDOM().attributeMap(el);\n    const /** @type {?} */ keys: string[] = Array.from(attributeMap.keys()).sort();\n    for (let /** @type {?} */ i = 0; i < keys.length; i++) {\n      const /** @type {?} */ key = keys[i];\n      const /** @type {?} */ attValue = attributeMap.get(key);\n      if (typeof attValue !== 'string') {\n        result += ` ${key}`;\n      } else {\n        result += ` ${key}=\"${attValue}\"`;\n      }\n    }\n    result += '>';\n\n    // Children\n    const /** @type {?} */ childrenRoot = getDOM().templateAwareRoot(el);\n    const /** @type {?} */ children = childrenRoot ? getDOM().childNodes(childrenRoot) : [];\n    for (let /** @type {?} */ j = 0; j < children.length; j++) {\n      result += stringifyElement(children[j]);\n    }\n\n    // Closing tag\n    if (_singleTagWhitelist.indexOf(tagName) == -1) {\n      result += `</${tagName}>`;\n    }\n  } else if (getDOM().isCommentNode(el)) {\n    result += `<!--${getDOM().nodeValue(el)}-->`;\n  } else {\n    result += getDOM().getText(el);\n  }\n\n  return result;\n}\n/**\n * @return {?}\n */\nexport function createNgZone(): NgZone {\n  return new NgZone({enableLongStackTrace: true});\n}\n"]}