{"version":3,"sources":["../../../../../../packages/platform-browser/src/dom/shared_styles_host.ts"],"names":[],"mappings":"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","file":"shared_styles_host.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, OnDestroy} from '@angular/core';\nimport {getDOM} from './dom_adapter';\nimport {DOCUMENT} from './dom_tokens';\nexport class SharedStylesHost {\n/**\n * \\@internal\n */\nprotected _stylesSet = new Set<string>();\n/**\n * @param {?} styles\n * @return {?}\n */\naddStyles(styles: string[]): void {\n    const /** @type {?} */ additions = new Set<string>();\n    styles.forEach(style => {\n      if (!this._stylesSet.has(style)) {\n        this._stylesSet.add(style);\n        additions.add(style);\n      }\n    });\n    this.onStylesAdded(additions);\n  }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {}\n/**\n * @return {?}\n */\ngetAllStyles(): string[] { return Array.from(this._stylesSet); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n];\n}\n\nfunction SharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSharedStylesHost.ctorParameters;\n/**\n * \\@internal\n * @type {?}\n */\nSharedStylesHost.prototype._stylesSet;\n}\n\nexport class DomSharedStylesHost extends SharedStylesHost implements OnDestroy {\nprivate _hostNodes = new Set<Node>();\nprivate _styleNodes = new Set<Node>();\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {\n    super();\n    this._hostNodes.add(_doc.head);\n  }\n/**\n * @param {?} styles\n * @param {?} host\n * @return {?}\n */\n\nprivate _addStylesToHost(styles: Set<string>, host: Node): void {\n    styles.forEach((style: string) => {\n      const /** @type {?} */ styleEl = this._doc.createElement('style');\n      styleEl.textContent = style;\n      this._styleNodes.add(host.appendChild(styleEl));\n    });\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\naddHost(hostNode: Node): void {\n    this._addStylesToHost(this._stylesSet, hostNode);\n    this._hostNodes.add(hostNode);\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\nremoveHost(hostNode: Node): void { this._hostNodes.delete(hostNode); }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {\n    this._hostNodes.forEach(hostNode => this._addStylesToHost(additions, hostNode));\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void { this._styleNodes.forEach(styleNode => getDOM().remove(styleNode)); }\nstatic decorators: {type: Function, args?: any[]}[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: {type: Function, args?: any[]}[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction DomSharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nDomSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomSharedStylesHost.ctorParameters;\n/** @type {?} */\nDomSharedStylesHost.prototype._hostNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._styleNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._doc;\n}\n\n"]}