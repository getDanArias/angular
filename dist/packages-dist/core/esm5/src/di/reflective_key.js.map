{"version":3,"sources":["../../../../../../packages/core/src/di/reflective_key.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH;;;;;;GAMG;AAEH,OALO,EAAA,SAAE,EAAS,MAAA,SAAA,CAAA;AAMlB,OALO,EAAA,iBAAE,EAAiB,MAAA,eAAA,CAAA;AAM1B;;;;;;;;;;;;;;;GAeG;AACH;IACA;;;;OAIG;IACH,uBALqB,KAAO,EAAe,EAAI;QAA1B,UAAA,GAAA,KAAA,CAAO;QAAe,OAAA,GAAA,EAAA,CAAI;QAO3C,EAAE,CAAC,CAAC,CANC,KAAC,CAAK,CAAC,CAAA;YAOV,MANM,IAAI,KAAA,CAAM,wBAAC,CAAwB,CAAC;QAO5C,CAAC;IACH,CAAC;IAKH,sBANM,sCAAA;QAEN;;;WAGG;aACH,cAN8B,MAAA,CAAO,SAAA,CAAU,IAAC,CAAI,KAAC,CAAK,CAAC,CAAC,CAAA;;;OAAA;IAO5D;;;;OAIG;IANM,iBAAA,GAOT,UAPa,KAAO;QAQhB,MAAM,CAPC,kBAAA,CAAmB,GAAC,CAAG,iBAAC,CAAiB,KAAC,CAAK,CAAC,CAAC;IAQ1D,CAAC;IAIH,sBANa,6BAAA;QAGb;;WAEG;aACH,cANsC,MAAA,CAAO,kBAAA,CAAmB,YAAC,CAAY,CAAC,CAAA;;;OAAA;IAO9E,oBANC;AAMD,CA7BA,AAuBC,IAAA;;AAQD;IACA,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC;IAC9B,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC;AAC3B,CAAC;AAED;;GAEG;AACH;IAAA;QAZU,aAAA,GAAW,IAAI,GAAA,EAA0B,CAAG;IAiCtD,CAlBC;IADD;;;OAGG;IACH,yBAhBG,GAgBH,UAhBM,KAAO;QAiBT,EAAE,CAAC,CAAC,KAhBC,YAAgB,aAAA,CAAc;YAAC,MAAA,CAAO,KAAA,CAAM;QAkBjD,EAAE,CAAC,CAAC,IAhBC,CAAI,QAAC,CAAQ,GAAC,CAAG,KAAC,CAAK,CAAC,CAAC,CAAA;YAiB5B,MAAM,CAAiB,CAAC,CAhBjB,IAAA,CAAK,QAAC,CAAQ,GAAC,CAAG,KAAC,CAAK,CAAA,CAAA,CAAG;QAiBpC,CAAC;QAED,IAAM,gBAAgB,CAhBhB,MAAA,GAAS,IAAI,aAAA,CAAc,KAAC,EAAM,aAAA,CAAc,YAAC,CAAY,CAAC;QAiBpE,IAAI,CAhBC,QAAC,CAAQ,GAAC,CAAG,KAAC,EAAM,MAAA,CAAO,CAAC;QAiBjC,MAAM,CAhBC,MAAA,CAAO;IAiBhB,CAAC;IAIH,sBAlBM,qCAAA;QAeN;;WAEG;aACH,cAlB+B,MAAA,CAAO,IAAA,CAAK,QAAC,CAAQ,IAAC,CAAI,CAAC,CAAA;;;OAAA;IAmB1D,kBAlBC;AAkBD,CArBA,AAGC,IAAA;;AAoBD;IACA,gBAAgB;IAChB,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC;AAC/B,CAAC;AAGD,IAAM,gBAAgB,CAxBhB,kBAAA,GAAqB,IAAI,WAAA,EAAY,CAAE","file":"reflective_key.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {stringify} from '../util';\nimport {resolveForwardRef} from './forward_ref';\n/**\n * A unique object used for retrieving items from the {\\@link ReflectiveInjector}.\n * \n * Keys have:\n * - a system-wide unique `id`.\n * - a `token`.\n * \n * `Key` is used internally by {\\@link ReflectiveInjector} because its system-wide unique `id` allows\n * the\n * injector to store created objects in a more efficient way.\n * \n * `Key` should not be created directly. {\\@link ReflectiveInjector} creates keys automatically when\n * resolving\n * providers.\n * @deprecated No replacement\n */\nexport class ReflectiveKey {\n/**\n * Private\n * @param {?} token\n * @param {?} id\n */\nconstructor(public token: Object,\npublic id: number) {\n    if (!token) {\n      throw new Error('Token must be defined!');\n    }\n  }\n/**\n * Returns a stringified token.\n * @return {?}\n */\nget displayName(): string { return stringify(this.token); }\n/**\n * Retrieves a `Key` for a token.\n * @param {?} token\n * @return {?}\n */\nstatic get(token: Object): ReflectiveKey {\n    return _globalKeyRegistry.get(resolveForwardRef(token));\n  }\n/**\n * @return {?} the number of keys registered in the system.\n */\nstatic get numberOfKeys(): number { return _globalKeyRegistry.numberOfKeys; }\n}\n\nfunction ReflectiveKey_tsickle_Closure_declarations() {\n/** @type {?} */\nReflectiveKey.prototype.token;\n/** @type {?} */\nReflectiveKey.prototype.id;\n}\n\n/**\n * \\@internal\n */\nexport class KeyRegistry {\nprivate _allKeys = new Map<Object, ReflectiveKey>();\n/**\n * @param {?} token\n * @return {?}\n */\nget(token: Object): ReflectiveKey {\n    if (token instanceof ReflectiveKey) return token;\n\n    if (this._allKeys.has(token)) {\n      return /** @type {?} */(( this._allKeys.get(token)));\n    }\n\n    const /** @type {?} */ newKey = new ReflectiveKey(token, ReflectiveKey.numberOfKeys);\n    this._allKeys.set(token, newKey);\n    return newKey;\n  }\n/**\n * @return {?}\n */\nget numberOfKeys(): number { return this._allKeys.size; }\n}\n\nfunction KeyRegistry_tsickle_Closure_declarations() {\n/** @type {?} */\nKeyRegistry.prototype._allKeys;\n}\n\n\nconst /** @type {?} */ _globalKeyRegistry = new KeyRegistry();\n"]}