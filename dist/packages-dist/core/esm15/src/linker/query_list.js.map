{"version":3,"sources":["../../../../../packages/core/src/linker/query_list.ts"],"names":[],"mappings":"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","file":"query_list.js","sourceRoot":"","sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Observable} from 'rxjs/Observable';\n\nimport {EventEmitter} from '../event_emitter';\nimport {getSymbolIterator} from '../util';\n/**\n * An unmodifiable list of items that Angular keeps up to date when the state\n * of the application changes.\n * \n * The type of object that {\\@link ViewChildren}, {\\@link ContentChildren}, and {\\@link QueryList}\n * provide.\n * \n * Implements an iterable interface, therefore it can be used in both ES6\n * javascript `for (var i of items)` loops as well as in Angular templates with\n * `*ngFor=\"let i of myList\"`.\n * \n * Changes can be observed by subscribing to the changes `Observable`.\n * \n * NOTE: In the future this class will implement an `Observable` interface.\n * \n * ### Example ([live demo](http://plnkr.co/edit/RX8sJnQYl9FWuSCWme5z?p=preview))\n * ```typescript\n * \\@Component({...}) \n * class Container {\n *   \\@ViewChildren(Item) items:QueryList<Item>;\n * }\n * ```\n * \\@stable\n */\nexport class QueryList<T>/* implements Iterable<T> */ {\nprivate _dirty = true;\nprivate _results: Array<T> = [];\nprivate _emitter = new EventEmitter();\n/**\n * @return {?}\n */\nget changes(): Observable<any> { return this._emitter; }\n/**\n * @return {?}\n */\nget length(): number { return this._results.length; }\n/**\n * @return {?}\n */\nget first(): T { return this._results[0]; }\n/**\n * @return {?}\n */\nget last(): T { return this._results[this.length - 1]; }\n/**\n * See\n * [Array.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\n * @template U\n * @param {?} fn\n * @return {?}\n */\nmap<U>(fn: (item: T, index: number, array: T[]) => U): U[] { return this._results.map(fn); }\n/**\n * See\n * [Array.filter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\n * @param {?} fn\n * @return {?}\n */\nfilter(fn: (item: T, index: number, array: T[]) => boolean): T[] {\n    return this._results.filter(fn);\n  }\n/**\n * See\n * [Array.find](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find)\n * @param {?} fn\n * @return {?}\n */\nfind(fn: (item: T, index: number, array: T[]) => boolean): T|undefined {\n    return this._results.find(fn);\n  }\n/**\n * See\n * [Array.reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)\n * @template U\n * @param {?} fn\n * @param {?} init\n * @return {?}\n */\nreduce<U>(fn: (prevValue: U, curValue: T, curIndex: number, array: T[]) => U, init: U): U {\n    return this._results.reduce(fn, init);\n  }\n/**\n * See\n * [Array.forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)\n * @param {?} fn\n * @return {?}\n */\nforEach(fn: (item: T, index: number, array: T[]) => void): void { this._results.forEach(fn); }\n/**\n * See\n * [Array.some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)\n * @param {?} fn\n * @return {?}\n */\nsome(fn: (value: T, index: number, array: T[]) => boolean): boolean {\n    return this._results.some(fn);\n  }\n/**\n * @return {?}\n */\ntoArray(): T[] { return this._results.slice(); }\n/**\n * @return {?}\n */\n[getSymbolIterator()](): Iterator<T> { return ( /** @type {?} */((this._results as any)))[getSymbolIterator()](); }\n/**\n * @return {?}\n */\ntoString(): string { return this._results.toString(); }\n/**\n * @param {?} res\n * @return {?}\n */\nreset(res: Array<T|any[]>): void {\n    this._results = flatten(res);\n    this._dirty = false;\n  }\n/**\n * @return {?}\n */\nnotifyOnChanges(): void { this._emitter.emit(this); }\n/**\n * internal\n * @return {?}\n */\nsetDirty() { this._dirty = true; }\n/**\n * internal\n * @return {?}\n */\nget dirty() { return this._dirty; }\n}\n\nfunction QueryList_tsickle_Closure_declarations() {\n/** @type {?} */\nQueryList.prototype._dirty;\n/** @type {?} */\nQueryList.prototype._results;\n/** @type {?} */\nQueryList.prototype._emitter;\n}\n\n/**\n * @template T\n * @param {?} list\n * @return {?}\n */\nfunction flatten<T>(list: Array<T|T[]>): T[] {\n  return list.reduce((flat: any[], item: T | T[]): T[] => {\n    const /** @type {?} */ flatItem = Array.isArray(item) ? flatten(item) : item;\n    return ( /** @type {?} */((<T[]>flat))).concat(flatItem);\n  }, []);\n}\n"]}